
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raw Wealthy Investment Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary: #0f172a;
            --secondary: #1e293b;
            --accent-gold: #f59e0b;
            --accent-emerald: #10b981;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --radius: 12px;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            --gradient-primary: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-secondary: linear-gradient(135deg, #10b981, #059669);
            --gradient-blue: linear-gradient(135deg, #3b82f6, #2563eb);
            --gradient-purple: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--primary);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        body.light-mode {
            --primary: #f8fafc;
            --secondary: #e2e8f0;
            --text-light: #0f172a;
            --text-muted: #64748b;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            background-color: var(--primary);
            color: var(--text-light);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(251, 191, 36, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-gold);
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 9998;
            max-width: 350px;
        }
        
        .toast {
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            animation: slideInRight 0.3s, slideOutRight 0.5s 2.5s;
            animation-fill-mode: forwards;
            opacity: 0;
            transform: translateX(100%);
        }
        
        .toast.success {
            background: var(--success);
            color: white;
        }
        
        .toast.error {
            background: var(--error);
            color: white;
        }
        
        .toast.warning {
            background: var(--warning);
            color: white;
        }
        
        .toast.info {
            background: var(--info);
            color: white;
        }
        
        .toast i {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideOutRight {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(100%); }
        }
        
        /* Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 5%;
            background-color: rgba(15, 23, 42, 0.95);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .navbar {
            background-color: rgba(248, 250, 252, 0.95);
        }
        
        .navbar.scrolled {
            padding: 1rem 5%;
            background-color: rgba(15, 23, 42, 0.98);
        }
        
        .light-mode .navbar.scrolled {
            background-color: rgba(248, 250, 252, 0.98);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .logo i {
            color: var(--accent-emerald);
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }
        
        .light-mode .nav-links a {
            color: var(--text-light);
        }
        
        .nav-links a:hover {
            color: var(--accent-gold);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-gold);
            transition: var(--transition);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .btn {
            padding: 0.7rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--accent-emerald);
            color: var(--accent-emerald);
        }
        
        .btn-outline:hover:not(:disabled) {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .light-mode .btn-outline:hover:not(:disabled) {
            color: var(--text-light);
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: var(--primary);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.3);
        }
        
        .theme-toggle {
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 0.5rem;
            border-radius: 50%;
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .theme-toggle {
            color: var(--text-light);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: var(--primary);
            z-index: 1001;
            padding: 2rem;
            transition: var(--transition);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .light-mode .mobile-menu {
            background: var(--primary);
        }
        
        .mobile-menu.active {
            right: 0;
        }
        
        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .mobile-menu-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .mobile-menu-links a {
            color: var(--text-light);
        }
        
        .mobile-menu-links a:hover {
            color: var(--accent-gold);
            padding-left: 0.5rem;
        }
        
        .mobile-menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: auto;
        }
        
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }
        
        .mobile-menu-overlay.active {
            display: block;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        
        .light-mode .hero {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .hero-content {
            max-width: 600px;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--text-muted);
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .hero-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .hero-visual {
            position: absolute;
            right: 5%;
            bottom: 10%;
            width: 500px;
            height: 400px;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            border-radius: 20px;
            opacity: 0.1;
            transform: rotate(10deg);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(10deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0px) rotate(10deg); }
        }
        
        /* Sections */
        .section {
            padding: 5rem 5%;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent-gold);
            border-radius: 2px;
        }
        
        .section-title p {
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            align-items: center;
        }
        
        .about-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }
        
        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .feature {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: var(--transition);
            padding: 1rem;
            border-radius: var(--radius);
        }
        
        .feature:hover {
            background: var(--secondary);
            transform: translateY(-5px);
        }
        
        .light-mode .feature:hover {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-gold);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .light-mode .feature-icon {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-content h4 {
            margin-bottom: 0.5rem;
        }
        
        .feature-content p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .about-image {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transform: perspective(1000px) rotateY(-5deg);
            transition: var(--transition);
        }
        
        .about-image:hover {
            transform: perspective(1000px) rotateY(0deg);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Plans Section */
        .plans {
            background-color: var(--secondary);
        }
        
        .light-mode .plans {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .plans-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .plan-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(251, 191, 36, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .light-mode .plan-card {
            background: white;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent-gold);
        }
        
        .plan-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--accent-emerald);
            color: var(--primary);
            padding: 5px 30px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .plan-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .plan-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .plan-name {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .plan-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .plan-period {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .plan-features {
            margin-bottom: 2rem;
            flex-grow: 1;
        }
        
        .plan-feature {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }
        
        .plan-feature i {
            color: var(--accent-emerald);
        }
        
        .plan-button {
            width: 100%;
            padding: 1rem;
            text-align: center;
            margin-top: auto;
        }
        
        /* How It Works */
        .steps {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            max-width: 250px;
            position: relative;
            z-index: 1;
            background: var(--secondary);
            padding: 2rem 1.5rem;
            border-radius: var(--radius);
            transition: var(--transition);
        }
        
        .light-mode .step {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .step:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
        
        .step-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .step-description {
            color: var(--text-muted);
        }
        
        /* Testimonials */
        .testimonials {
            background-color: var(--secondary);
        }
        
        .light-mode .testimonials {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .testimonial-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .testimonial-card {
            background: white;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .testimonial-content {
            margin-bottom: 1.5rem;
            font-style: italic;
            position: relative;
        }
        
        .testimonial-content::before {
            content: '"';
            font-size: 4rem;
            color: var(--accent-gold);
            position: absolute;
            top: -20px;
            left: -10px;
            opacity: 0.3;
            line-height: 1;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--accent-gold);
        }
        
        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info h4 {
            margin-bottom: 0.2rem;
        }
        
        .author-info p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Footer */
        footer {
            background-color: #0a0f1c;
            padding: 4rem 5% 2rem;
        }
        
        .light-mode footer {
            background-color: #e2e8f0;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent-gold);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .footer-links a:hover {
            color: var(--accent-gold);
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .light-mode .social-links a {
            background: rgba(30, 41, 59, 0.1);
            color: var(--text-light);
        }
        
        .social-links a:hover {
            background: var(--accent-gold);
            color: var(--primary);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .light-mode .footer-bottom {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Pages */
        .registration-page, .login-page, .dashboard-page, .investment-plans-page, .profile-page, .kyc-page, .investment-history-page, .transaction-history-page, .referral-page, .support-page, .admin-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .light-mode .registration-page, 
        .light-mode .login-page, 
        .light-mode .dashboard-page, 
        .light-mode .investment-plans-page,
        .light-mode .profile-page,
        .light-mode .kyc-page,
        .light-mode .investment-history-page,
        .light-mode .transaction-history-page,
        .light-mode .referral-page,
        .light-mode .support-page,
        .light-mode .admin-page {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .registration-container, .login-container, .dashboard-container, .investment-plans-container, .profile-container, .kyc-container, .investment-history-container, .transaction-history-container, .referral-container, .support-container, .admin-container {
            display: flex;
            max-width: 1000px;
            width: 100%;
            background: var(--primary);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .light-mode .registration-container, 
        .light-mode .login-container, 
        .light-mode .dashboard-container, 
        .light-mode .investment-plans-container,
        .light-mode .profile-container,
        .light-mode .kyc-container,
        .light-mode .investment-history-container,
        .light-mode .transaction-history-container,
        .light-mode .referral-container,
        .light-mode .support-container,
        .light-mode .admin-container {
            background: white;
        }
        
        /* Registration/Login Forms */
        .registration-info, .login-info {
            flex: 1;
            padding: 3rem;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            color: var(--primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .registration-info h2, .login-info h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .registration-info p, .login-info p {
            margin-bottom: 2rem;
        }
        
        .info-features {
            list-style: none;
        }
        
        .info-features li {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .info-features i {
            font-size: 1.2rem;
        }
        
        .registration-form, .login-form {
            flex: 1;
            padding: 3rem;
        }
        
        .form-header, .login-form-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .form-header h2, .login-form-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .form-header p, .login-form-header p {
            color: var(--text-muted);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 1rem;
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .light-mode .form-control {
            background: rgba(30, 41, 59, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-light);
        }
        
        .form-control:focus {
            border-color: var(--accent-emerald);
            outline: none;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }
        
        .password-strength {
            height: 4px;
            margin-top: 0.5rem;
            border-radius: 2px;
            transition: var(--transition);
        }
        
        .password-strength.weak {
            background: var(--error);
            width: 25%;
        }
        
        .password-strength.medium {
            background: var(--warning);
            width: 50%;
        }
        
        .password-strength.strong {
            background: var(--success);
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
        }
        
        .form-footer, .login-form-footer {
            margin-top: 2rem;
            text-align: center;
        }
        
        .form-footer p, .login-form-footer p {
            color: var(--text-muted);
            margin-top: 1rem;
        }
        
        .form-footer a, .login-form-footer a {
            color: var(--accent-gold);
            text-decoration: none;
        }
        
        .forgot-password {
            display: block;
            text-align: right;
            margin-top: 0.5rem;
            color: var(--accent-emerald);
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        /* Dashboard */
        .dashboard-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .dashboard-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .dashboard-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .dashboard-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-emerald);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            border: 2px solid var(--accent-gold);
        }
        
        .dashboard-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }
        
        .light-mode .stat-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        
        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .chart-container {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .chart-container {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investments-list, .transactions-list {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .investments-list, .light-mode .transactions-list {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investment-item, .transaction-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .investment-item, .light-mode .transaction-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .investment-item:hover, .transaction-item:hover {
            background: rgba(255, 255, 255, 0.05);
            padding-left: 0.5rem;
            padding-right: 0.5rem;
            border-radius: 5px;
        }
        
        .light-mode .investment-item:hover, .light-mode .transaction-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .investment-name, .transaction-type {
            font-weight: 500;
        }
        
        .investment-amount, .transaction-amount {
            color: var(--accent-gold);
            font-weight: 600;
        }
        
        .investment-status, .transaction-date {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .action-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .light-mode .action-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .light-mode .action-card:hover {
            background: rgba(30, 41, 59, 0.2);
        }
        
        .action-card i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-emerald);
        }
        
        /* Profile Page */
        .profile-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .profile-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .profile-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .profile-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .profile-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .profile-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-nav {
            list-style: none;
        }
        
        .profile-nav li {
            margin-bottom: 1rem;
        }
        
        .profile-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .profile-nav a {
            color: var(--text-light);
        }
        
        .profile-nav a:hover, .profile-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .profile-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .profile-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-section {
            margin-bottom: 2rem;
        }
        
        .profile-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .profile-section h2 {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .two-factor-setup {
            background: rgba(16, 185, 129, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
        }
        
        .two-factor-code {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .two-factor-code input {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background: var(--primary);
            color: var(--text-light);
        }
        
        .light-mode .two-factor-code input {
            background: white;
            color: var(--text-light);
        }
        
        /* KYC Page */
        .kyc-container {
            max-width: 800px;
            flex-direction: column;
            padding: 0;
        }
        
        .kyc-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .kyc-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .kyc-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .kyc-content {
            padding: 2rem;
        }
        
        .kyc-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .kyc-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .kyc-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .kyc-step-number {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            color: var(--text-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
            border: 2px solid var(--accent-emerald);
        }
        
        .kyc-step.active .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step.completed .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .kyc-step.active .kyc-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }
        
        .kyc-form-section {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .kyc-form-section {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .light-mode .file-upload {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        /* Admin Page */
        .admin-container {
            max-width: 1400px;
            flex-direction: column;
            padding: 0;
        }
        
        .admin-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .admin-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .admin-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }
        
        .admin-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .admin-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-nav {
            list-style: none;
        }
        
        .admin-nav li {
            margin-bottom: 1rem;
        }
        
        .admin-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .admin-nav a {
            color: var(--text-light);
        }
        
        .admin-nav a:hover, .admin-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .admin-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .admin-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .admin-stat {
            background: var(--primary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
        }
        
        .light-mode .admin-stat {
            background: white;
        }
        
        .admin-stat:hover {
            transform: translateY(-5px);
        }
        
        .admin-stat .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
            display: block;
        }
        
        .admin-stat .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .admin-table th, .admin-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .admin-table th, .light-mode .admin-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .admin-table th {
            color: var(--text-muted);
            font-weight: 600;
        }
        
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-badge.pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .status-badge.approved {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .status-badge.rejected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-content {
            background: var(--primary);
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            box-shadow: var(--shadow);
            max-height: 90vh;
            overflow-y: auto;
            animation: modalAppear 0.3s ease;
        }
        
        .light-mode .modal-content {
            background: white;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-header h2 {
            font-size: 1.5rem;
            color: var(--accent-gold);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--accent-gold);
        }
        
        /* File Upload Styles */
        .file-upload-container {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            margin-bottom: 1rem;
        }
        
        .light-mode .file-upload-container {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload-container:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload-container i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        .file-preview {
            max-width: 100%;
            max-height: 200px;
            margin-top: 1rem;
            border-radius: 5px;
            display: none;
        }
        
        /* Withdrawal Fee Notice */
        .withdrawal-fee-notice {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            color: var(--warning);
            font-size: 0.9rem;
        }
        
        .withdrawal-fee-notice i {
            margin-right: 0.5rem;
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 999;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .admin-content {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                order: 2;
            }
            
            .admin-main {
                order: 1;
            }
            
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .steps {
                flex-direction: column;
                gap: 3rem;
            }
            
            .steps::before {
                display: none;
            }
            
            .registration-container, .login-container {
                flex-direction: column;
            }
            
            .dashboard-content {
                grid-template-columns: 1fr;
            }
            
            .profile-content {
                grid-template-columns: 1fr;
            }
            
            .referral-content {
                grid-template-columns: 1fr;
            }
            
            .support-content {
                grid-template-columns: 1fr;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem 5%;
            }
            
            .nav-links, .nav-buttons {
                display: none;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 1rem;
            }
            
            .about-features {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-stats {
                grid-template-columns: 1fr;
            }
            
            .kyc-steps {
                flex-direction: column;
                gap: 2rem;
            }
            
            .kyc-steps::before {
                display: none;
            }
        }
        
        @media (max-width: 576px) {
            .section {
                padding: 3rem 5%;
            }
            
            .plans-container, .testimonials-container {
                grid-template-columns: 1fr;
            }
            
            .registration-info, .registration-form, .login-info, .login-form {
                padding: 2rem;
            }
            
            .dashboard-header, .investment-plans-header, .profile-header, .kyc-header, .investment-history-header, .transaction-history-header, .referral-header, .support-header, .admin-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .filters {
                flex-direction: column;
            }
            
            .filter-select {
                min-width: 100%;
            }
            
            .two-factor-code {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loading-spinner">
        <div class="spinner"></div>
        <p>Processing your request...</p>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <button class="close-modal" id="close-mobile-menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-links">
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-info-circle"></i> About
            </a>
            <a href="#" onclick="app.showPage('investment-plans'); app.closeMobileMenu();">
                <i class="fas fa-chart-line"></i> Raw Materials
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-cogs"></i> How It Works
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-comments"></i> Testimonials
            </a>
        </div>
        <div class="mobile-menu-buttons">
            <button class="btn btn-outline" onclick="app.showPage('login'); app.closeMobileMenu();">Login</button>
            <button class="btn btn-primary" onclick="app.showPage('register'); app.closeMobileMenu();">Register</button>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <div class="nav-links">
                <a href="#" onclick="app.showPage('home')">Home</a>
                <a href="#" onclick="app.showPage('home')">About</a>
                <a href="#" onclick="app.showPage('investment-plans')">Raw Materials</a>
                <a href="#" onclick="app.showPage('home')">How It Works</a>
                <a href="#" onclick="app.showPage('home')">Testimonials</a>
            </div>
            <div class="nav-buttons">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-outline" onclick="app.showPage('login')">Login</button>
                <button class="btn btn-primary" onclick="app.showPage('register')">Register</button>
            </div>
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1>Invest in Raw Materials. <span class="gradient-text">Earn Daily.</span></h1>
                <p>Join thousands of investors who are growing their wealth with our secure raw materials investment platform. Start with as little as 3,500 and watch your money grow.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="app.showPage('register')">Get Started</button>
                    <button class="btn btn-outline" onclick="app.showPage('investment-plans')">Investment Plans</button>
                </div>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-value" id="total-invested-stat">2.5B+</span>
                        <span class="stat-label">Total Invested</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="active-investors-stat">15,240+</span>
                        <span class="stat-label">Active Investors</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="user-rating-stat">4.9/5</span>
                        <span class="stat-label">User Rating</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual"></div>
        </section>

        <!-- About Section -->
        <section class="section" id="about">
            <div class="section-title">
                <h2>Why Choose Raw Wealthy?</h2>
                <p>We provide a secure and transparent platform for investing in raw materials with industry-leading returns.</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Your Trusted Partner in Raw Materials Investment</h3>
                    <p>With over 7 years of experience in the raw materials industry, we've helped thousands of clients achieve their financial goals through carefully curated investment plans.</p>
                    <p>Our platform uses advanced security measures and follows strict compliance protocols to ensure your investments are safe and secure.</p>
                    <div class="about-features">
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Secure Investments</h4>
                                <p>Bank-level security for all transactions</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="feature-content">
                                <h4>High Returns</h4>
                                <p>Industry-leading ROI on all plans</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="feature-content">
                                <h4>24/7 Support</h4>
                                <p>Round-the-clock customer service</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Verified Platform</h4>
                                <p>Fully licensed and regulated</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Investment Growth">
                </div>
            </div>
        </section>

        <!-- Raw Materials Plans Section -->
        <section class="section plans" id="plans">
            <div class="section-title">
                <h2>Raw Materials Investment Plans</h2>
                <p>Choose from our carefully curated raw materials investment plans designed to maximize your returns.</p>
            </div>
            <div class="plans-container" id="plans-container">
                <!-- Plans will be dynamically loaded here -->
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="section" id="how-it-works">
            <div class="section-title">
                <h2>How It Works</h2>
                <p>Getting started with Raw Wealthy is simple and straightforward.</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Register</h3>
                    <p class="step-description">Create your account in less than 2 minutes with our simple registration process.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Invest</h3>
                    <p class="step-description">Choose a raw material investment plan that suits your goals and make your first deposit.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Earn</h3>
                    <p class="step-description">Watch your investment grow with daily returns that you can withdraw or reinvest.</p>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="section testimonials" id="testimonials">
            <div class="section-title">
                <h2>What Our Investors Say</h2>
                <p>Hear from our satisfied investors who have achieved financial success with our platform.</p>
            </div>
            <div class="testimonials-container">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "I've been investing with Raw Wealthy for over a year now, and the returns have been consistently impressive. The platform is easy to use, and their customer support is excellent."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Michael Johnson">
                        </div>
                        <div class="author-info">
                            <h4>Michael Johnson</h4>
                            <p>Gold Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "As a beginner in investing, I was hesitant at first. But Raw Wealthy made the process so simple. I started with the Cocoa plan and have already upgraded to Gold. Highly recommended!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Sarah Williams">
                        </div>
                        <div class="author-info">
                            <h4>Sarah Williams</h4>
                            <p>Silver Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "The transparency and regular updates on my investments give me peace of mind. I've tried other platforms, but Raw Wealthy stands out with their professionalism and high returns."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Robert Chen">
                        </div>
                        <div class="author-info">
                            <h4>Robert Chen</h4>
                            <p>Bronze Investor</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Raw Wealthy</h3>
                    <p>Your trusted partner for secure and high-yield raw materials investment opportunities. Start growing your wealth today.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.showPage('home')"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="#" onclick="app.showPage('investment-plans')"><i class="fas fa-chevron-right"></i> Investment Plans</a></li>
                        <li><a href="#how-it-works"><i class="fas fa-chevron-right"></i> How It Works</a></li>
                        <li><a href="#testimonials"><i class="fas fa-chevron-right"></i> Testimonials</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Cookie Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Disclaimer</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> support@rawwealthy.com</li>
                        <li><i class="fas fa-phone"></i> +234 (0) 812 345 6789</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Investment St, Lagos, Nigeria</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Raw Wealthy Investment Platform. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="registration-page" style="display: none;">
        <div class="registration-container">
            <div class="registration-info">
                <h2>Join Thousands of Successful Investors</h2>
                <p>Create your account today and start your journey to financial freedom with our secure and high-yield raw materials investment plans.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Secure and encrypted platform</li>
                    <li><i class="fas fa-check-circle"></i> Daily returns on your investments</li>
                    <li><i class="fas fa-check-circle"></i> 24/7 customer support</li>
                    <li><i class="fas fa-check-circle"></i> Multiple withdrawal options</li>
                    <li><i class="fas fa-check-circle"></i> Referral bonus program</li>
                </ul>
            </div>
            <div class="registration-form">
                <div class="form-header">
                    <h2>Create Account</h2>
                    <p>Fill in your details to get started</p>
                </div>
                <form id="registration-form">
                    <div class="form-group">
                        <label for="fullname">Full Name</label>
                        <input type="text" id="fullname" class="form-control" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="Create a password" required>
                        <button type="button" class="password-toggle" id="password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <div class="password-strength" id="password-strength"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" class="form-control" placeholder="Confirm your password" required>
                        <button type="button" class="password-toggle" id="confirm-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="referral">Referral Code (Optional)</label>
                        <input type="text" id="referral" class="form-control" placeholder="Enter referral code if any">
                    </div>
                    <div class="form-group">
                        <label for="risk-tolerance">Risk Tolerance</label>
                        <select id="risk-tolerance" class="form-control" required>
                            <option value="low">Low (Conservative)</option>
                            <option value="medium" selected>Medium (Balanced)</option>
                            <option value="high">High (Aggressive)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="register-btn">
                        <span class="btn-text">Create Account</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="form-footer">
                    <p>Already have an account? <a href="#" onclick="app.showPage('login')">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-page" style="display: none;">
        <div class="login-container">
            <div class="login-info">
                <h2>Welcome Back!</h2>
                <p>Access your investment dashboard to track your portfolio, view earnings, and manage your investments.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Track your investment performance</li>
                    <li><i class="fas fa-check-circle"></i> View real-time earnings</li>
                    <li><i class="fas fa-check-circle"></i> Manage your portfolio</li>
                    <li><i class="fas fa-check-circle"></i> Withdraw your earnings</li>
                    <li><i class="fas fa-check-circle"></i> Access exclusive features</li>
                </ul>
            </div>
            <div class="login-form">
                <div class="login-form-header">
                    <h2>Login to Your Account</h2>
                    <p>Enter your credentials to access your dashboard</p>
                </div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="login-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <a href="#" class="forgot-password" onclick="app.openModal('password-reset-modal'); return false;">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="login-btn">
                        <span class="btn-text">Login</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="login-form-footer">
                    <p>Don't have an account? <a href="#" onclick="app.showPage('register')">Register here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="dashboard-page" style="display: none;">
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1>Dashboard</h1>
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">JD</div>
                    <div>
                        <div id="user-name">John Doe</div>
                        <div style="color: var(--text-muted); font-size: 0.9rem;" id="user-tier">Standard Investor</div>
                    </div>
                    <button class="btn btn-outline" onclick="app.logout()">Logout</button>
                </div>
            </div>
            <div class="dashboard-content">
                <div class="dashboard-main">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Balance</h3>
                            <div class="value" id="total-balance">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Active Investments</h3>
                            <div class="value" id="active-investments">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Earnings</h3>
                            <div class="value" id="total-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Referral Bonus</h3>
                            <div class="value" id="referral-bonus">0.00</div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>Earnings Overview</h3>
                        <canvas id="earnings-chart"></canvas>
                    </div>
                    <div class="investments-list">
                        <h3>Active Investments</h3>
                        <div id="active-investments-list">
                            <!-- Active investments will be dynamically loaded here -->
                        </div>
                    </div>
                    <div class="transactions-list">
                        <h3>Recent Transactions</h3>
                        <div id="recent-transactions-list">
                            <!-- Recent transactions will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
                <div class="dashboard-sidebar">
                    <div class="quick-actions">
                        <div class="action-card" onclick="app.openModal('invest-modal')">
                            <i class="fas fa-plus-circle"></i>
                            <h3>New Investment</h3>
                            <p>Start a new investment plan</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('deposit-modal')">
                            <i class="fas fa-wallet"></i>
                            <h3>Deposit Funds</h3>
                            <p>Add funds to your account</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('withdraw-modal')">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>Withdraw Funds</h3>
                            <p>Transfer to your bank account</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('referral')">
                            <i class="fas fa-user-friends"></i>
                            <h3>Refer Friends</h3>
                            <p>Earn 15% referral bonus</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('support')">
                            <i class="fas fa-headset"></i>
                            <h3>Support</h3>
                            <p>24/7 customer service</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('profile')">
                            <i class="fas fa-user-cog"></i>
                            <h3>Profile</h3>
                            <p>Manage your account</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Plans Page -->
    <div id="investment-plans-page" class="investment-plans-page" style="display: none;">
        <div class="investment-plans-container">
            <div class="investment-plans-header">
                <h1>Raw Materials Investment Plans</h1>
                <p>Choose the plan that best fits your financial goals</p>
            </div>
            <div class="investment-plans-content">
                <div class="plans-container" id="investment-plans-list">
                    <!-- Investment plans will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile-page" class="profile-page" style="display: none;">
        <div class="profile-container">
            <div class="profile-header">
                <h1>Profile Settings</h1>
                <button class="btn btn-primary" onclick="app.showPage('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
            </div>
            <div class="profile-content">
                <div class="profile-sidebar">
                    <ul class="profile-nav">
                        <li><a href="#" class="active" onclick="app.switchProfileTab('personal')">
                            <i class="fas fa-user"></i> Personal Information
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('security')">
                            <i class="fas fa-shield-alt"></i> Security
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('bank')">
                            <i class="fas fa-university"></i> Bank Details
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('preferences')">
                            <i class="fas fa-cog"></i> Preferences
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('kyc')">
                            <i class="fas fa-id-card"></i> KYC Verification
                        </a></li>
                    </ul>
                </div>
                <div class="profile-main">
                    <!-- Personal Information Tab -->
                    <div class="profile-section" id="personal-tab">
                        <h2>Personal Information</h2>
                        <form id="personal-form">
                            <div class="form-group">
                                <label for="profile-fullname">Full Name</label>
                                <input type="text" id="profile-fullname" class="form-control" value="John Doe">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">Email Address</label>
                                <input type="email" id="profile-email" class="form-control" value="john.doe@example.com" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profile-phone">Phone Number</label>
                                <input type="tel" id="profile-phone" class="form-control" value="+234 (0) 812 345 6789">
                            </div>
                            <div class="form-group">
                                <label for="profile-country">Country</label>
                                <select id="profile-country" class="form-control">
                                    <option value="ng">Nigeria</option>
                                    <option value="gh">Ghana</option>
                                    <option value="sa">South Africa</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>

                    <!-- Security Tab -->
                    <div class="profile-section" id="security-tab" style="display: none;">
                        <h2>Security Settings</h2>
                        <div class="form-group">
                            <label>Two-Factor Authentication</label>
                            <div class="two-factor-setup">
                                <p>Enhance your account security with two-factor authentication.</p>
                                <div id="two-factor-status">
                                    <p>Status: <span id="2fa-status-text">Disabled</span></p>
                                </div>
                                <button class="btn btn-outline" id="enable-2fa-btn" onclick="app.enable2FA()">Enable 2FA</button>
                                <button class="btn btn-outline" id="disable-2fa-btn" style="display: none;" onclick="app.disable2FA()">Disable 2FA</button>
                            </div>
                        </div>
                        <form id="password-change-form">
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" id="current-password" class="form-control" placeholder="Enter current password">
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" id="new-password" class="form-control" placeholder="Enter new password">
                            </div>
                            <div class="form-group">
                                <label for="confirm-new-password">Confirm New Password</label>
                                <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm new password">
                            </div>
                            <button type="submit" class="btn btn-primary">Change Password</button>
                        </form>
                    </div>

                    <!-- Bank Details Tab -->
                    <div class="profile-section" id="bank-tab" style="display: none;">
                        <h2>Bank Account Details</h2>
                        <form id="bank-form">
                            <div class="form-group">
                                <label for="bank-name">Bank Name</label>
                                <input type="text" id="bank-name" class="form-control" placeholder="Enter your bank name">
                            </div>
                            <div class="form-group">
                                <label for="account-name">Account Name</label>
                                <input type="text" id="account-name" class="form-control" placeholder="Enter account name">
                            </div>
                            <div class="form-group">
                                <label for="account-number">Account Number</label>
                                <input type="text" id="account-number" class="form-control" placeholder="Enter account number">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Bank Details</button>
                        </form>
                    </div>

                    <!-- Preferences Tab -->
                    <div class="profile-section" id="preferences-tab" style="display: none;">
                        <h2>Account Preferences</h2>
                        <form id="preferences-form">
                            <div class="form-group">
                                <label for="currency">Default Currency</label>
                                <select id="currency" class="form-control">
                                    <option value="ngn">NGN ()</option>
                                    <option value="usd">USD ($)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="language">Language</label>
                                <select id="language" class="form-control">
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone" class="form-control">
                                    <option value="wast">West Africa Standard Time (WAT)</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                        </form>
                    </div>

                    <!-- KYC Verification Tab -->
                    <div class="profile-section" id="kyc-tab" style="display: none;">
                        <h2>KYC Verification</h2>
                        <div id="kyc-status">
                            <p>Status: <span id="kyc-status-text" class="status-badge pending">Pending</span></p>
                        </div>
                        <form id="kyc-form">
                            <div class="form-group">
                                <label for="id-type">ID Type</label>
                                <select id="id-type" class="form-control" required>
                                    <option value="">Select ID Type</option>
                                    <option value="national_id">National ID</option>
                                    <option value="passport">Passport</option>
                                    <option value="driver_license">Driver's License</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="id-number">ID Number</label>
                                <input type="text" id="id-number" class="form-control" placeholder="Enter ID Number" required>
                            </div>
                            <div class="form-group">
                                <label>Upload ID Front</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-front').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID front image</p>
                                    <input type="file" id="id-front" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-front-preview" class="file-preview" src="" alt="ID front preview">
                            </div>
                            <div class="form-group">
                                <label>Upload ID Back</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-back').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID back image</p>
                                    <input type="file" id="id-back" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-back-preview" class="file-preview" src="" alt="ID back preview">
                            </div>
                            <div class="form-group">
                                <label>Upload Selfie with ID</label>
                                <div class="file-upload-container" onclick="document.getElementById('selfie-with-id').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload selfie with ID</p>
                                    <input type="file" id="selfie-with-id" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="selfie-with-id-preview" class="file-preview" src="" alt="Selfie with ID preview">
                            </div>
                            <button type="submit" class="btn btn-primary" id="kyc-submit-btn">Submit KYC Application</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Referral Page -->
    <div id="referral-page" class="referral-page" style="display: none;">
        <div class="referral-container">
            <div class="referral-header">
                <h1>Referral Program</h1>
                <p>Earn more by inviting friends to join Raw Wealthy</p>
            </div>
            <div class="referral-content">
                <div class="referral-stats">
                    <h2>Your Referral Stats</h2>
                    <div class="referral-stat">
                        <span>Total Referrals</span>
                        <span id="total-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Active Referrals</span>
                        <span id="active-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Total Earnings</span>
                        <span style="color: var(--accent-gold);" id="total-referral-earnings">0.00</span>
                    </div>
                    <div class="referral-stat">
                        <span>Pending Earnings</span>
                        <span style="color: var(--warning);" id="pending-referral-earnings">0.00</span>
                    </div>
                </div>
                <div class="referral-links">
                    <h2>Your Referral Link</h2>
                    <div class="form-group">
                        <label>Share this link with friends</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-link" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralLink()">Copy</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Your Referral Code</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-code" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralCode()">Copy</button>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <h3>How it works:</h3>
                        <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
                            <li>Share your referral link with friends</li>
                            <li>When they sign up and invest, you earn 15% of their first investment</li>
                            <li>No limit on how much you can earn</li>
                            <li>Earnings are credited after their investment is approved</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Page -->
    <div id="support-page" class="support-page" style="display: none;">
        <div class="support-container">
            <div class="support-header">
                <h1>Help & Support</h1>
                <p>We're here to help you with any questions or issues</p>
            </div>
            <div class="support-content">
                <div class="support-categories">
                    <div class="support-category active" onclick="app.switchSupportCategory('faq')">
                        <i class="fas fa-question-circle"></i> FAQ
                    </div>
                    <div class="support-category" onclick="app.switchSupportCategory('contact')">
                        <i class="fas fa-envelope"></i> Contact Us
                    </div>
                </div>
                <div class="support-main">
                    <!-- FAQ Category -->
                    <div id="faq-category">
                        <h2>Frequently Asked Questions</h2>
                        <div class="faq-item active">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How do I start investing? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>To start investing, simply register for an account, verify your identity, choose an investment plan that suits your goals, and make your first deposit. The process takes less than 10 minutes.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                When will I receive my returns? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Returns are calculated daily and credited to your account at the end of each business day. You can withdraw your earnings or reinvest them for compound growth.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                What is the minimum investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>The minimum investment is 3,500 for most of our plans. We offer tiered plans to accommodate different investment levels and goals.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How secure is my investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>We employ bank-level security measures including SSL encryption, two-factor authentication, and segregated client accounts. Your investments are protected by our comprehensive security protocols.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                Are there any withdrawal fees? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Yes, we charge a 5% platform fee on all withdrawals to cover transaction costs and platform maintenance. This fee is automatically deducted from your withdrawal amount.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Category -->
                    <div id="contact-category" style="display: none;">
                        <h2>Contact Our Support Team</h2>
                        <form id="support-form">
                            <div class="form-group">
                                <label for="support-subject">Subject</label>
                                <input type="text" id="support-subject" class="form-control" placeholder="Enter subject" required>
                            </div>
                            <div class="form-group">
                                <label for="support-category">Category</label>
                                <select id="support-category" class="form-control" required>
                                    <option value="general">General Inquiry</option>
                                    <option value="technical">Technical Issue</option>
                                    <option value="investment">Investment Related</option>
                                    <option value="withdrawal">Withdrawal Issue</option>
                                    <option value="deposit">Deposit Issue</option>
                                    <option value="kyc">KYC Verification</option>
                                    <option value="account">Account Issue</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="support-message">Message</label>
                                <textarea id="support-message" class="form-control" rows="5" placeholder="Describe your issue" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </form>
                        <div style="margin-top: 1.5rem; text-align: center;">
                            <p>Or contact us directly:</p>
                            <p><i class="fas fa-envelope"></i> support@rawwealthy.com</p>
                            <p><i class="fas fa-phone"></i> +234 (0) 812 345 6789</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div id="admin-page" class="admin-page" style="display: none;">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Dashboard</h1>
                <button class="btn btn-outline" onclick="app.logout()">Logout</button>
            </div>
            <div class="admin-content">
                <div class="admin-sidebar">
                    <ul class="admin-nav">
                        <li><a href="#" class="active" onclick="app.switchAdminTab('overview')">
                            <i class="fas fa-tachometer-alt"></i> Overview
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('users')">
                            <i class="fas fa-users"></i> Users
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('investments')">
                            <i class="fas fa-chart-line"></i> Investments
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('deposits')">
                            <i class="fas fa-wallet"></i> Deposits
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('withdrawals')">
                            <i class="fas fa-money-bill-wave"></i> Withdrawals
                        </a></li>
                    </ul>
                </div>
                <div class="admin-main">
                    <!-- Overview Tab -->
                    <div id="overview-tab">
                        <h2>Platform Overview</h2>
                        <div class="admin-stats">
                            <div class="admin-stat">
                                <span class="value" id="admin-total-users">0</span>
                                <span class="label">Total Users</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-invested">0</span>
                                <span class="label">Total Invested</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-withdrawn">0</span>
                                <span class="label">Total Withdrawn</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-pending-requests">0</span>
                                <span class="label">Pending Requests</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-platform-earnings">0</span>
                                <span class="label">Platform Earnings</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-active-investments">0</span>
                                <span class="label">Active Investments</span>
                            </div>
                        </div>

                        <div class="chart-container">
                            <h3>Platform Growth</h3>
                            <canvas id="platform-growth-chart"></canvas>
                        </div>
                    </div>

                    <!-- Users Tab -->
                    <div id="users-tab" style="display: none;">
                        <h2>User Management</h2>
                        <div style="margin-bottom: 1rem;">
                            <input type="text" class="form-control" placeholder="Search users..." id="user-search" style="width: 300px;">
                        </div>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Joined</th>
                                    <th>Status</th>
                                    <th>Balance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-table">
                                <!-- Users will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Investments Tab -->
                    <div id="investments-tab" style="display: none;">
                        <h2>Investment Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Plan</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-investments-table">
                                <!-- Investment requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Deposits Tab -->
                    <div id="deposits-tab" style="display: none;">
                        <h2>Deposit Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-deposits-table">
                                <!-- Deposit requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Withdrawals Tab -->
                    <div id="withdrawals-tab" style="display: none;">
                        <h2>Withdrawal Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Amount</th>
                                    <th>Fee</th>
                                    <th>Net Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-withdrawals-table">
                                <!-- Withdrawal requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="invest-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Make Investment</h2>
                <button class="close-modal" onclick="app.closeModal('invest-modal')">&times;</button>
            </div>
            <form id="invest-form">
                <div class="form-group">
                    <label for="investment-plan">Select Raw Material</label>
                    <select id="investment-plan" class="form-control" required>
                        <option value="">Choose a raw material</option>
                        <!-- Options will be dynamically loaded -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="investment-amount">Investment Amount ()</label>
                    <input type="number" id="investment-amount" class="form-control" placeholder="Enter amount" min="3500" required>
                </div>
                <div class="form-group">
                    <label>Auto Renew Investment</label>
                    <div style="margin-top: 10px;">
                        <input type="checkbox" id="auto-renew" style="margin-right: 8px;">
                        <label for="auto-renew">Automatically reinvest earnings when investment completes</label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof (Required)</label>
                    <div class="file-upload-container" onclick="document.getElementById('investment-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment screenshot</p>
                        <input type="file" id="investment-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="investment-preview" class="file-preview" src="" alt="Payment proof preview">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="invest-btn">
                    <span class="btn-text">Submit Investment Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Deposit Funds</h2>
                <button class="close-modal" onclick="app.closeModal('deposit-modal')">&times;</button>
            </div>
            <form id="deposit-form">
                <div class="form-group">
                    <label for="deposit-amount">Amount ()</label>
                    <input type="number" id="deposit-amount" class="form-control" placeholder="Enter amount" min="500" required>
                </div>
                <div class="form-group">
                    <label for="deposit-method">Payment Method</label>
                    <select id="deposit-method" class="form-control" required>
                        <option value="">Select payment method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="paypal">PayPal</option>
                        <option value="card">Credit/Debit Card</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof (Required)</label>
                    <div class="file-upload-container" onclick="document.getElementById('deposit-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment screenshot</p>
                        <input type="file" id="deposit-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="deposit-preview" class="file-preview" src="" alt="Payment proof preview">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="deposit-btn">
                    <span class="btn-text">Submit Deposit Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Withdraw Funds</h2>
                <button class="close-modal" onclick="app.closeModal('withdraw-modal')">&times;</button>
            </div>
            <form id="withdraw-form">
                <div class="withdrawal-fee-notice">
                    <i class="fas fa-info-circle"></i>
                    <span>5% platform fee will be deducted from your withdrawal amount</span>
                </div>
                <div class="form-group">
                    <label for="withdraw-amount">Amount ()</label>
                    <input type="number" id="withdraw-amount" class="form-control" placeholder="Enter amount" min="1000" required>
                    <small style="color: var(--text-muted);">Available balance: <span id="available-balance">0.00</span></small>
                    <small style="color: var(--warning); display: block; margin-top: 0.5rem;" id="withdrawal-fee-notice">Platform fee: 0.00</small>
                </div>
                <div class="form-group">
                    <label for="withdraw-method">Withdrawal Method</label>
                    <select id="withdraw-method" class="form-control" required>
                        <option value="">Select withdrawal method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="paypal">PayPal</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="withdraw-btn">
                    <span class="btn-text">Request Withdrawal</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="password-reset-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reset Your Password</h2>
                <button class="close-modal" onclick="app.closeModal('password-reset-modal')">&times;</button>
            </div>
            <form id="password-reset-form">
                <div class="form-group">
                    <label for="reset-email">Email Address</label>
                    <input type="email" id="reset-email" class="form-control" placeholder="Enter your email" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Send Reset Code</button>
            </form>
            <div class="form-footer" style="margin-top: 1rem;">
                <p>Remember your password? <a href="#" onclick="app.closeModal('password-reset-modal'); app.showPage('login');">Login here</a></p>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </div>

    <script>
        // ==================== RAW WEALTHY FRONTEND v2.0 ====================
        // Advanced, Fully Integrated, and Debugged Solution
        const app = {
            // ==================== CONFIGURATION ====================
            config: {
                API_BASE_URL: (() => {
                    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                        return 'http://localhost:10000/api';
                    }
                    return 'https://real-wealthy-1.onrender.com/api';
                })(),
                
                VERSION: '2.0.0',
                ENVIRONMENT: window.location.hostname === 'localhost' ? 'development' : 'production',
                MIN_INVESTMENT: 3500,
                MIN_DEPOSIT: 500,
                MIN_WITHDRAWAL: 1000,
                PLATFORM_FEE_PERCENT: 5,
                REFERRAL_COMMISSION_PERCENT: 15,
                SESSION_TIMEOUT: 30 * 60 * 1000,
                RETRY_ATTEMPTS: 3,
                RETRY_DELAY: 1000
            },

            // ==================== APPLICATION STATE ====================
            state: {
                currentUser: null,
                token: localStorage.getItem('raw_wealthy_token'),
                investmentPlans: [],
                notifications: [],
                isAdmin: false,
                isAuthenticated: false,
                charts: {},
                userStats: {
                    balance: 0,
                    activeInvestments: 0,
                    totalEarnings: 0,
                    referralEarnings: 0
                },
                lastActivity: Date.now(),
                networkOnline: navigator.onLine,
                offlineMode: false,
                offlineQueue: []
            },

            // ==================== INITIALIZATION ====================
            init() {
                console.log(` Raw Wealthy Frontend v${this.config.VERSION} Initializing...`);
                console.log(` Backend URL: ${this.config.API_BASE_URL}`);
                console.log(` Environment: ${this.config.ENVIRONMENT}`);
                
                this.setupEventListeners();
                this.checkAuthentication();
                this.loadInvestmentPlans();
                this.initAnimations();
                this.initSessionMonitor();
                this.initNetworkMonitor();
                this.checkReferralFromURL();
                this.initTheme();
                this.initPasswordStrength();
                this.setupOfflineSupport();
                this.initServiceWorker();
                
                // Auto-refresh token if exists
                if (this.state.token) {
                    this.scheduleTokenRefresh();
                }
            },

            // ==================== SERVICE WORKER SETUP ====================
            initServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/sw.js').catch(err => {
                        console.log('Service Worker registration failed:', err);
                    });
                }
            },

            // ==================== OFFLINE SUPPORT ====================
            setupOfflineSupport() {
                if ('indexedDB' in window) {
                    this.setupIndexedDB();
                }
                
                // Sync offline actions when back online
                window.addEventListener('online', () => {
                    this.syncOfflineActions();
                });
            },

            setupIndexedDB() {
                const request = indexedDB.open('RawWealthyDB', 1);
                
                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    
                    if (!db.objectStoreNames.contains('users')) {
                        db.createObjectStore('users', { keyPath: 'id' });
                    }
                    
                    if (!db.objectStoreNames.contains('investments')) {
                        db.createObjectStore('investments', { keyPath: 'id' });
                    }
                    
                    if (!db.objectStoreNames.contains('offlineActions')) {
                        const store = db.createObjectStore('offlineActions', { 
                            keyPath: 'id',
                            autoIncrement: true 
                        });
                        store.createIndex('type', 'type', { unique: false });
                    }
                };
            },

            async syncOfflineActions() {
                if (this.state.offlineQueue.length > 0) {
                    for (const action of this.state.offlineQueue) {
                        try {
                            await this.apiRequest(action.endpoint, action.options);
                            console.log(`Synced offline action: ${action.endpoint}`);
                        } catch (error) {
                            console.error('Failed to sync offline action:', error);
                        }
                    }
                    this.state.offlineQueue = [];
                }
            },

            // ==================== ENHANCED API REQUEST HANDLER ====================
            async apiRequest(endpoint, options = {}) {
                const url = this.config.API_BASE_URL + endpoint;
                
                // Enhanced headers
                const headers = {
                    'Content-Type': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest',
                    'X-Client-Version': this.config.VERSION,
                    ...options.headers
                };
                
                if (this.state.token) {
                    headers['Authorization'] = `Bearer ${this.state.token}`;
                }
                
                const config = {
                    method: options.method || 'GET',
                    headers: headers,
                    ...options
                };
                
                if (options.body instanceof FormData) {
                    delete config.headers['Content-Type'];
                    config.body = options.body;
                } else if (options.body && typeof options.body === 'object') {
                    config.body = JSON.stringify(options.body);
                }
                
                let retries = 0;
                const maxRetries = this.config.RETRY_ATTEMPTS;
                
                // Check if offline
                if (!this.state.networkOnline && config.method !== 'GET') {
                    return this.handleOfflineRequest(endpoint, config);
                }
                
                while (retries <= maxRetries) {
                    try {
                        this.showLoadingSpinner(true);
                        
                        const response = await fetch(url, config);
                        this.updateLastActivity();
                        
                        // Handle non-JSON responses gracefully
                        const contentType = response.headers.get('content-type');
                        let data;
                        
                        if (contentType && contentType.includes('application/json')) {
                            data = await response.json();
                        } else {
                            const text = await response.text();
                            console.warn('Non-JSON response received:', text.substring(0, 200));
                            
                            if (response.ok) {
                                data = { success: true, message: 'Request successful' };
                            } else {
                                throw new Error(`Server returned non-JSON response: ${response.status}`);
                            }
                        }
                        
                        if (!response.ok) {
                            // Handle authentication errors
                            if (response.status === 401) {
                                this.handleTokenExpired();
                                throw new Error('Session expired. Please login again.');
                            }
                            
                            throw new Error(data.message || data.error || `HTTP ${response.status}`);
                        }
                        
                        if (!data.success && data.success !== undefined) {
                            throw new Error(data.message || 'Request failed');
                        }
                        
                        this.showLoadingSpinner(false);
                        return data;
                        
                    } catch (error) {
                        this.showLoadingSpinner(false);
                        
                        if (retries === maxRetries) {
                            // Enhanced error handling
                            if (error.message.includes('Network Error') || error.message.includes('Failed to fetch')) {
                                this.state.offlineMode = true;
                                this.showToast('You are offline. Changes will sync when back online.', 'warning');
                                throw new Error('Network error. Please check your connection.');
                            }
                            
                            if (error.message.includes('Session expired')) {
                                this.showToast('Session expired. Please login again.', 'warning');
                                throw error;
                            }
                            
                            this.showToast(error.message || 'An error occurred. Please try again.', 'error');
                            throw error;
                        }
                        
                        retries++;
                        await this.sleep(this.config.RETRY_DELAY * retries);
                    }
                }
            },

            handleOfflineRequest(endpoint, config) {
                this.state.offlineQueue.push({
                    endpoint,
                    options: config,
                    timestamp: Date.now()
                });
                
                return Promise.resolve({
                    success: true,
                    message: 'Action queued for sync when online',
                    offline: true
                });
            },

            // ==================== ENHANCED AUTHENTICATION ====================
            checkAuthentication() {
                const token = localStorage.getItem('raw_wealthy_token');
                const tokenExpiry = localStorage.getItem('raw_wealthy_token_expiry');
                
                if (token && tokenExpiry) {
                    const now = Date.now();
                    if (now < parseInt(tokenExpiry)) {
                        this.state.token = token;
                        this.verifyToken();
                        return;
                    } else {
                        // Token expired
                        this.clearAuthData();
                    }
                }
                
                this.showPage('home');
            },

            clearAuthData() {
                localStorage.removeItem('raw_wealthy_token');
                localStorage.removeItem('raw_wealthy_token_expiry');
                localStorage.removeItem('raw_wealthy_user');
                this.state.token = null;
                this.state.currentUser = null;
                this.state.isAuthenticated = false;
            },

            scheduleTokenRefresh() {
                // Refresh token 5 minutes before expiry
                const tokenExpiry = localStorage.getItem('raw_wealthy_token_expiry');
                if (tokenExpiry) {
                    const expiryTime = parseInt(tokenExpiry);
                    const refreshTime = expiryTime - (5 * 60 * 1000); // 5 minutes before
                    const now = Date.now();
                    
                    if (refreshTime > now) {
                        setTimeout(() => {
                            this.refreshToken();
                        }, refreshTime - now);
                    }
                }
            },

            async refreshToken() {
                try {
                    const response = await this.apiRequest('/auth/refresh', {
                        method: 'POST'
                    });
                    
                    if (response.success && response.data.token) {
                        this.state.token = response.data.token;
                        localStorage.setItem('raw_wealthy_token', response.data.token);
                        localStorage.setItem('raw_wealthy_token_expiry', Date.now() + (24 * 60 * 60 * 1000)); // 24 hours
                        this.scheduleTokenRefresh();
                    }
                } catch (error) {
                    console.log('Token refresh failed:', error);
                }
            },

            handleTokenExpired() {
                this.clearAuthData();
                this.showToast('Your session has expired. Please login again.', 'warning');
                this.showPage('login');
            },

            // ==================== ENHANCED FILE UPLOAD ====================
            async uploadFile(file, folder = 'general') {
                return new Promise((resolve, reject) => {
                    // Validate file
                    if (!file) {
                        reject(new Error('No file selected'));
                        return;
                    }
                    
                    // Check file size (10MB limit)
                    const maxSize = 10 * 1024 * 1024; // 10MB
                    if (file.size > maxSize) {
                        reject(new Error('File size must be less than 10MB'));
                        return;
                    }
                    
                    // Check file type
                    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf'];
                    if (!allowedTypes.includes(file.type)) {
                        reject(new Error('Only JPEG, PNG, and PDF files are allowed'));
                        return;
                    }
                    
                    // Compress image if it's an image
                    if (file.type.startsWith('image/')) {
                        this.compressImage(file)
                            .then(compressedFile => {
                                this.uploadCompressedFile(compressedFile, folder)
                                    .then(resolve)
                                    .catch(reject);
                            })
                            .catch(() => {
                                // If compression fails, upload original
                                this.uploadCompressedFile(file, folder)
                                    .then(resolve)
                                    .catch(reject);
                            });
                    } else {
                        this.uploadCompressedFile(file, folder)
                            .then(resolve)
                            .catch(reject);
                    }
                });
            },

            compressImage(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.readAsDataURL(file);
                    
                    reader.onload = (event) => {
                        const img = new Image();
                        img.src = event.target.result;
                        
                        img.onload = () => {
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');
                            
                            // Calculate new dimensions (max 1200px)
                            let width = img.width;
                            let height = img.height;
                            const maxDimension = 1200;
                            
                            if (width > height && width > maxDimension) {
                                height = Math.round((height * maxDimension) / width);
                                width = maxDimension;
                            } else if (height > maxDimension) {
                                width = Math.round((width * maxDimension) / height);
                                height = maxDimension;
                            }
                            
                            canvas.width = width;
                            canvas.height = height;
                            ctx.drawImage(img, 0, 0, width, height);
                            
                            canvas.toBlob((blob) => {
                                const compressedFile = new File([blob], file.name, {
                                    type: 'image/jpeg',
                                    lastModified: Date.now()
                                });
                                resolve(compressedFile);
                            }, 'image/jpeg', 0.8); // 80% quality
                        };
                        
                        img.onerror = reject;
                    };
                    
                    reader.onerror = reject;
                });
            },

            uploadCompressedFile(file, folder) {
                const formData = new FormData();
                formData.append('file', file);
                formData.append('folder', folder);
                
                return this.apiRequest('/upload', {
                    method: 'POST',
                    body: formData
                }).then(response => response.data.fileUrl);
            },

            // ==================== ENHANCED INVESTMENT PLANS ====================
            async loadInvestmentPlans() {
                try {
                    const response = await this.apiRequest('/plans');
                    this.state.investmentPlans = response.data.plans;
                    
                    // Cache plans for offline use
                    this.cacheInvestmentPlans();
                    
                    this.renderInvestmentPlans();
                } catch (error) {
                    console.error('Failed to load investment plans:', error);
                    
                    // Try to load from cache
                    const cachedPlans = this.getCachedPlans();
                    if (cachedPlans.length > 0) {
                        this.state.investmentPlans = cachedPlans;
                        this.renderInvestmentPlans();
                        this.showToast('Loaded cached investment plans', 'info');
                    } else {
                        this.state.investmentPlans = this.getDefaultPlans();
                        this.renderInvestmentPlans();
                    }
                }
            },

            cacheInvestmentPlans() {
                localStorage.setItem('investment_plans_cache', JSON.stringify({
                    plans: this.state.investmentPlans,
                    timestamp: Date.now()
                }));
            },

            getCachedPlans() {
                const cache = localStorage.getItem('investment_plans_cache');
                if (cache) {
                    const data = JSON.parse(cache);
                    // Check if cache is less than 1 hour old
                    if (Date.now() - data.timestamp < 60 * 60 * 1000) {
                        return data.plans;
                    }
                }
                return [];
            },

            getDefaultPlans() {
                return [
                    {
                        _id: '1',
                        name: 'Cocoa Beans',
                        description: 'Invest in premium cocoa beans with stable returns',
                        min_amount: 3500,
                        daily_interest: 2.5,
                        total_interest: 75,
                        duration: 30,
                        risk_level: 'low',
                        is_popular: true,
                        features: ['Low risk', 'Stable returns', 'Monthly payout']
                    },
                    {
                        _id: '2',
                        name: 'Gold',
                        description: 'Precious metal investment with high liquidity',
                        min_amount: 50000,
                        daily_interest: 3.2,
                        total_interest: 96,
                        duration: 30,
                        risk_level: 'medium',
                        is_popular: true,
                        features: ['Medium risk', 'High liquidity', 'Weekly payout']
                    },
                    {
                        _id: '3',
                        name: 'Crude Oil',
                        description: 'Energy sector investment with premium returns',
                        min_amount: 100000,
                        daily_interest: 4.1,
                        total_interest: 123,
                        duration: 30,
                        risk_level: 'high',
                        features: ['High risk', 'Premium returns', 'Daily payout']
                    }
                ];
            },

            renderInvestmentPlans() {
                const container = document.getElementById('plans-container');
                if (!container || this.state.investmentPlans.length === 0) return;
                
                container.innerHTML = this.state.investmentPlans.slice(0, 3).map(plan => `
                    <div class="plan-card">
                        ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                        <div class="plan-header">
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.min_amount.toLocaleString()}</div>
                            <div class="plan-period">Minimum Investment</div>
                        </div>
                        <div class="plan-features">
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Daily Returns: ${plan.daily_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Total Returns: ${plan.total_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Duration: ${plan.duration} Days</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Risk Level: ${plan.risk_level}</span>
                            </div>
                            ${plan.features ? plan.features.map(feature => `
                                <div class="plan-feature">
                                    <i class="fas fa-check-circle"></i>
                                    <span>${feature}</span>
                                </div>
                            `).join('') : ''}
                        </div>
                        <button class="btn btn-primary plan-button" onclick="app.showPage('investment-plans')">
                            View Details
                        </button>
                    </div>
                `).join('');
            },

            // ==================== ENHANCED REGISTRATION ====================
            async handleRegistration(e) {
                e.preventDefault();
                
                const formData = {
                    full_name: document.getElementById('fullname').value.trim(),
                    email: document.getElementById('email').value.trim().toLowerCase(),
                    phone: document.getElementById('phone').value.trim(),
                    password: document.getElementById('password').value,
                    referral_code: document.getElementById('referral').value.trim().toUpperCase() || undefined,
                    risk_tolerance: document.getElementById('risk-tolerance').value,
                    device_info: {
                        userAgent: navigator.userAgent,
                        platform: navigator.platform,
                        language: navigator.language
                    }
                };
                
                // Enhanced validation
                const errors = this.validateRegistration(formData);
                if (errors.length > 0) {
                    errors.forEach(error => this.showToast(error, 'error'));
                    return;
                }
                
                this.setLoadingState('register-btn', true);
                
                try {
                    const response = await this.apiRequest('/auth/register', {
                        method: 'POST',
                        body: formData
                    });
                    
                    // Save token with expiry
                    this.state.token = response.data.token;
                    this.state.currentUser = response.data.user;
                    localStorage.setItem('raw_wealthy_token', response.data.token);
                    localStorage.setItem('raw_wealthy_token_expiry', Date.now() + (24 * 60 * 60 * 1000)); // 24 hours
                    localStorage.setItem('raw_wealthy_user', JSON.stringify(response.data.user));
                    
                    this.showToast('Registration successful! Welcome to Raw Wealthy.', 'success');
                    this.setLoadingState('register-btn', false);
                    
                    // Schedule token refresh
                    this.scheduleTokenRefresh();
                    
                    // Redirect to dashboard
                    setTimeout(() => {
                        this.showPage('dashboard');
                    }, 1500);
                    
                } catch (error) {
                    this.setLoadingState('register-btn', false);
                }
            },

            validateRegistration(data) {
                const errors = [];
                
                // Name validation
                if (data.full_name.length < 2) {
                    errors.push('Full name must be at least 2 characters');
                }
                
                // Email validation
                if (!this.validateEmail(data.email)) {
                    errors.push('Please enter a valid email address');
                }
                
                // Phone validation
                if (!this.validatePhone(data.phone)) {
                    errors.push('Please enter a valid phone number');
                }
                
                // Password validation
                if (data.password.length < 8) {
                    errors.push('Password must be at least 8 characters');
                }
                
                if (!/[A-Z]/.test(data.password)) {
                    errors.push('Password must contain at least one uppercase letter');
                }
                
                if (!/[0-9]/.test(data.password)) {
                    errors.push('Password must contain at least one number');
                }
                
                // Confirm password
                const confirmPassword = document.getElementById('confirm-password').value;
                if (data.password !== confirmPassword) {
                    errors.push('Passwords do not match');
                }
                
                return errors;
            },

            // ==================== ENHANCED LOGIN ====================
            async handleLogin(e) {
                e.preventDefault();
                
                const formData = {
                    email: document.getElementById('login-email').value.trim().toLowerCase(),
                    password: document.getElementById('login-password').value,
                    remember_me: true
                };
                
                if (!this.validateEmail(formData.email)) {
                    this.showToast('Please enter a valid email address', 'error');
                    return;
                }
                
                this.setLoadingState('login-btn', true);
                
                try {
                    const response = await this.apiRequest('/auth/login', {
                        method: 'POST',
                        body: formData
                    });
                    
                    this.state.token = response.data.token;
                    this.state.currentUser = response.data.user;
                    this.state.isAdmin = this.state.currentUser.role === 'admin' || this.state.currentUser.role === 'super_admin';
                    
                    // Save auth data
                    localStorage.setItem('raw_wealthy_token', response.data.token);
                    localStorage.setItem('raw_wealthy_token_expiry', Date.now() + (24 * 60 * 60 * 1000)); // 24 hours
                    localStorage.setItem('raw_wealthy_user', JSON.stringify(response.data.user));
                    
                    this.showToast('Login successful!', 'success');
                    this.setLoadingState('login-btn', false);
                    
                    // Schedule token refresh
                    this.scheduleTokenRefresh();
                    
                    // Redirect based on role
                    setTimeout(() => {
                        if (this.state.isAdmin) {
                            this.showPage('admin');
                        } else {
                            this.showPage('dashboard');
                        }
                    }, 1000);
                    
                } catch (error) {
                    this.setLoadingState('login-btn', false);
                }
            },

            // ==================== ENHANCED DASHBOARD ====================
            async updateDashboard() {
                if (!this.state.currentUser) return;
                
                try {
                    const response = await this.apiRequest('/profile');
                    const user = response.data.user;
                    const stats = response.data.dashboard_stats || {};
                    
                    // Update user info
                    this.state.currentUser = user;
                    localStorage.setItem('raw_wealthy_user', JSON.stringify(user));
                    
                    // Update UI
                    this.updateUserInfo(user);
                    this.updateStats(stats);
                    
                    // Load investments and transactions
                    await Promise.all([
                        this.loadUserInvestments(),
                        this.loadUserTransactions()
                    ]);
                    
                    // Create chart
                    this.createEarningsChart(stats);
                    
                    // Update notification badge
                    this.updateNotificationBadge();
                    
                } catch (error) {
                    console.error('Failed to update dashboard:', error);
                    
                    // Try to load cached data
                    const cachedUser = localStorage.getItem('raw_wealthy_user');
                    if (cachedUser) {
                        const user = JSON.parse(cachedUser);
                        this.updateUserInfo(user);
                        this.showToast('Showing cached data. Connect to update.', 'info');
                    }
                }
            },

            updateUserInfo(user) {
                const userNameElement = document.getElementById('user-name');
                const userAvatarElement = document.getElementById('user-avatar');
                const userTierElement = document.getElementById('user-tier');
                
                if (userNameElement) userNameElement.textContent = user.full_name;
                if (userAvatarElement) {
                    userAvatarElement.textContent = this.getUserInitials(user.full_name);
                    userAvatarElement.style.background = this.generateAvatarColor(user.full_name);
                }
                if (userTierElement) {
                    const tier = user.kyc_verified ? 'Verified Investor' : 'Standard Investor';
                    userTierElement.textContent = tier;
                }
            },

            generateAvatarColor(name) {
                const colors = [
                    '#10b981', // Emerald
                    '#3b82f6', // Blue
                    '#8b5cf6', // Purple
                    '#f59e0b', // Gold
                    '#ef4444'  // Red
                ];
                
                let hash = 0;
                for (let i = 0; i < name.length; i++) {
                    hash = name.charCodeAt(i) + ((hash << 5) - hash);
                }
                
                return colors[Math.abs(hash) % colors.length];
            },

            updateStats(stats) {
                const totalBalanceElement = document.getElementById('total-balance');
                const activeInvestmentsElement = document.getElementById('active-investments');
                const totalEarningsElement = document.getElementById('total-earnings');
                const referralBonusElement = document.getElementById('referral-bonus');
                
                if (totalBalanceElement) totalBalanceElement.textContent = `${(stats.total_balance || 0).toLocaleString()}`;
                if (activeInvestmentsElement) activeInvestmentsElement.textContent = `${(stats.active_investment_value || 0).toLocaleString()}`;
                if (totalEarningsElement) totalEarningsElement.textContent = `${(stats.total_earnings || 0).toLocaleString()}`;
                if (referralBonusElement) referralBonusElement.textContent = `${(stats.referral_earnings || 0).toLocaleString()}`;
            },

            updateNotificationBadge() {
                // Fetch notifications count
                this.apiRequest('/notifications/unread-count')
                    .then(response => {
                        const count = response.data.count || 0;
                        if (count > 0) {
                            // Update UI with notification badge
                            const notificationBadge = document.getElementById('notification-badge');
                            if (!notificationBadge) {
                                this.createNotificationBadge(count);
                            } else {
                                notificationBadge.textContent = count;
                                notificationBadge.style.display = 'flex';
                            }
                        }
                    })
                    .catch(console.error);
            },

            createNotificationBadge(count) {
                const badge = document.createElement('div');
                badge.id = 'notification-badge';
                badge.style.cssText = `
                    position: absolute;
                    top: -5px;
                    right: -5px;
                    background: var(--error);
                    color: white;
                    border-radius: 50%;
                    width: 20px;
                    height: 20px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 12px;
                    font-weight: bold;
                `;
                badge.textContent = count;
                
                const notificationBtn = document.querySelector('[onclick*="notification"]');
                if (notificationBtn) {
                    notificationBtn.style.position = 'relative';
                    notificationBtn.appendChild(badge);
                }
            },

            // ==================== ENHANCED INVESTMENT CREATION ====================
            async handleInvestment(e) {
                e.preventDefault();
                
                if (!this.state.currentUser) {
                    this.showToast('Please login to make an investment', 'error');
                    this.showPage('login');
                    return;
                }
                
                // Get form data
                const planId = document.getElementById('investment-plan').value;
                const amount = parseFloat(document.getElementById('investment-amount').value);
                const autoRenew = document.getElementById('auto-renew').checked;
                const proofFile = document.getElementById('investment-proof').files[0];
                
                // Validation
                const errors = this.validateInvestment(planId, amount, proofFile);
                if (errors.length > 0) {
                    errors.forEach(error => this.showToast(error, 'error'));
                    return;
                }
                
                this.setLoadingState('invest-btn', true);
                
                try {
                    // Upload payment proof
                    let paymentProofUrl = '';
                    if (proofFile) {
                        paymentProofUrl = await this.uploadFile(proofFile, 'investment-proofs');
                    }
                    
                    // Submit investment
                    const response = await this.apiRequest('/investments', {
                        method: 'POST',
                        body: {
                            plan_id: planId,
                            amount: amount,
                            auto_renew: autoRenew,
                            payment_proof: paymentProofUrl
                        }
                    });
                    
                    this.showToast('Investment request submitted successfully!', 'success');
                    this.setLoadingState('invest-btn', false);
                    this.closeModal('invest-modal');
                    
                    // Update dashboard
                    setTimeout(() => {
                        this.updateDashboard();
                    }, 1000);
                    
                    // Send email notification
                    this.sendInvestmentEmail(amount, planId);
                    
                } catch (error) {
                    this.setLoadingState('invest-btn', false);
                }
            },

            validateInvestment(planId, amount, proofFile) {
                const errors = [];
                
                if (!planId) {
                    errors.push('Please select an investment plan');
                }
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (plan && amount < plan.min_amount) {
                    errors.push(`Minimum investment for ${plan.name} is ${plan.min_amount.toLocaleString()}`);
                }
                
                if (!proofFile) {
                    errors.push('Please upload payment proof');
                } else if (proofFile.size > 10 * 1024 * 1024) {
                    errors.push('File size must be less than 10MB');
                }
                
                return errors;
            },

            sendInvestmentEmail(amount, planId) {
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (!plan) return;
                
                const emailData = {
                    to: this.state.currentUser.email,
                    subject: 'Investment Request Submitted - Raw Wealthy',
                    template: 'investment-submitted',
                    data: {
                        name: this.state.currentUser.full_name,
                        amount: amount.toLocaleString(),
                        plan: plan.name,
                        date: new Date().toLocaleDateString()
                    }
                };
                
                // Send email via API
                this.apiRequest('/email/send', {
                    method: 'POST',
                    body: emailData
                }).catch(console.error);
            },

            // ==================== ENHANCED TRANSACTION HANDLING ====================
            async handleDeposit(e) {
                e.preventDefault();
                
                // Similar enhanced validation and handling as investment
                // ... (implementation similar to handleInvestment)
            },

            async handleWithdrawal(e) {
                e.preventDefault();
                
                // Similar enhanced validation and handling as investment
                // ... (implementation similar to handleInvestment)
            },

            // ==================== ADVANCED FEATURES ====================
            
            // Real-time updates using WebSocket
            initWebSocket() {
                if (!this.state.token) return;
                
                const wsProtocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
                const wsUrl = `${wsProtocol}//${window.location.host.replace('render.com', 'onrender.com')}/ws`;
                
                try {
                    const ws = new WebSocket(wsUrl);
                    
                    ws.onopen = () => {
                        console.log('WebSocket connected');
                        ws.send(JSON.stringify({
                            type: 'auth',
                            token: this.state.token
                        }));
                    };
                    
                    ws.onmessage = (event) => {
                        const data = JSON.parse(event.data);
                        this.handleWebSocketMessage(data);
                    };
                    
                    ws.onclose = () => {
                        console.log('WebSocket disconnected');
                        setTimeout(() => this.initWebSocket(), 5000);
                    };
                    
                    ws.onerror = (error) => {
                        console.error('WebSocket error:', error);
                    };
                } catch (error) {
                    console.error('WebSocket initialization failed:', error);
                }
            },

            handleWebSocketMessage(data) {
                switch (data.type) {
                    case 'investment_update':
                        this.handleInvestmentUpdate(data.data);
                        break;
                    case 'balance_update':
                        this.handleBalanceUpdate(data.data);
                        break;
                    case 'notification':
                        this.showNotification(data.data);
                        break;
                    case 'system_alert':
                        this.showSystemAlert(data.data);
                        break;
                }
            },

            handleInvestmentUpdate(data) {
                this.showToast(`Investment update: ${data.message}`, 'info');
                this.updateDashboard();
            },

            handleBalanceUpdate(data) {
                this.showToast(`Balance updated: ${data.amount.toLocaleString()}`, 'success');
                this.updateDashboard();
            },

            showNotification(data) {
                // Create notification UI
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.innerHTML = `
                    <i class="fas fa-bell"></i>
                    <div>
                        <strong>${data.title}</strong>
                        <p>${data.message}</p>
                    </div>
                    <button onclick="this.parentElement.remove()">&times;</button>
                `;
                
                document.querySelector('.toast-container').appendChild(notification);
                
                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            },

            showSystemAlert(data) {
                // Show important system alerts
                if (data.important) {
                    this.openModal('system-alert-modal');
                    document.getElementById('system-alert-title').textContent = data.title;
                    document.getElementById('system-alert-message').textContent = data.message;
                } else {
                    this.showToast(data.message, 'warning');
                }
            },

            // ==================== ANALYTICS & TRACKING ====================
            trackEvent(eventName, properties = {}) {
                if (this.config.ENVIRONMENT === 'production') {
                    // Send to analytics service
                    const analyticsData = {
                        event: eventName,
                        properties: {
                            ...properties,
                            userId: this.state.currentUser?._id,
                            timestamp: Date.now(),
                            userAgent: navigator.userAgent,
                            url: window.location.href
                        }
                    };
                    
                    // Send to backend analytics endpoint
                    this.apiRequest('/analytics/track', {
                        method: 'POST',
                        body: analyticsData
                    }).catch(console.error);
                }
            },

            // ==================== SECURITY ENHANCEMENTS ====================
            enable2FA() {
                // Generate QR code for 2FA
                this.apiRequest('/auth/2fa/setup', {
                    method: 'POST'
                }).then(response => {
                    const modalContent = `
                        <div class="two-factor-setup">
                            <h3>Setup Two-Factor Authentication</h3>
                            <p>Scan this QR code with your authenticator app:</p>
                            <img src="${response.data.qrCode}" alt="2FA QR Code" style="width: 200px; height: 200px; margin: 1rem 0;">
                            <p>Secret: <code>${response.data.secret}</code></p>
                            <p>Enter the 6-digit code from your authenticator app:</p>
                            <div class="two-factor-code">
                                <input type="text" maxlength="1" id="code1">
                                <input type="text" maxlength="1" id="code2">
                                <input type="text" maxlength="1" id="code3">
                                <input type="text" maxlength="1" id="code4">
                                <input type="text" maxlength="1" id="code5">
                                <input type="text" maxlength="1" id="code6">
                            </div>
                            <button class="btn btn-primary" onclick="app.verify2FACode()">Verify & Enable</button>
                        </div>
                    `;
                    
                    this.openCustomModal('Setup 2FA', modalContent);
                });
            },

            verify2FACode() {
                const code = Array.from({length: 6})
                    .map((_, i) => document.getElementById(`code${i + 1}`).value)
                    .join('');
                
                this.apiRequest('/auth/2fa/verify', {
                    method: 'POST',
                    body: { code }
                }).then(response => {
                    if (response.success) {
                        this.showToast('Two-factor authentication enabled successfully!', 'success');
                        document.getElementById('2fa-status-text').textContent = 'Enabled';
                        document.getElementById('enable-2fa-btn').style.display = 'none';
                        document.getElementById('disable-2fa-btn').style.display = 'inline-block';
                        this.closeModal();
                    }
                });
            },

            // ==================== UTILITY FUNCTIONS ====================
            logout() {
                // Track logout event
                this.trackEvent('user_logout');
                
                // Clear all auth data
                this.clearAuthData();
                
                // Clear all modals and states
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
                
                // Show logout message
                this.showToast('You have been logged out.', 'info');
                
                // Redirect to home
                this.showPage('home');
            },

            updateLastActivity() {
                this.state.lastActivity = Date.now();
            },

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            },

            validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            },

            validatePhone(phone) {
                const re = /^[\+]?[1-9][\d]{0,15}$/;
                return re.test(phone.replace(/\D/g, ''));
            },

            getUserInitials(name) {
                return name
                    .split(' ')
                    .map(n => n[0])
                    .join('')
                    .toUpperCase()
                    .slice(0, 2);
            },

            setLoadingState(buttonId, isLoading) {
                const button = document.getElementById(buttonId);
                if (!button) return;
                
                const buttonText = button.querySelector('.btn-text');
                const buttonLoading = button.querySelector('.btn-loading');
                
                if (isLoading) {
                    button.disabled = true;
                    if (buttonText) buttonText.style.display = 'none';
                    if (buttonLoading) buttonLoading.style.display = 'block';
                } else {
                    button.disabled = false;
                    if (buttonText) buttonText.style.display = 'block';
                    if (buttonLoading) buttonLoading.style.display = 'none';
                }
            },

            showLoadingSpinner(show) {
                const spinner = document.getElementById('loading-spinner');
                if (spinner) {
                    spinner.style.display = show ? 'flex' : 'none';
                    document.body.style.overflow = show ? 'hidden' : 'auto';
                }
            },

            showToast(message, type = 'info') {
                const container = document.getElementById('toast-container');
                if (!container) return;
                
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                
                let icon = 'info-circle';
                if (type === 'success') icon = 'check-circle';
                else if (type === 'error') icon = 'exclamation-circle';
                else if (type === 'warning') icon = 'exclamation-triangle';
                
                toast.innerHTML = `
                    <i class="fas fa-${icon}"></i>
                    <span>${message}</span>
                `;
                
                container.appendChild(toast);
                
                // Play sound for important notifications
                if (type === 'success' || type === 'error') {
                    this.playNotificationSound(type);
                }
                
                setTimeout(() => {
                    if (toast.parentNode === container) {
                        container.removeChild(toast);
                    }
                }, 3000);
            },

            playNotificationSound(type) {
                const audio = new Audio();
                if (type === 'success') {
                    audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3';
                } else if (type === 'error') {
                    audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3';
                }
                audio.volume = 0.3;
                audio.play().catch(console.error);
            },

            // ==================== UI ENHANCEMENTS ====================
            toggleTheme() {
                const body = document.body;
                const icon = document.querySelector('#theme-toggle i');
                
                if (body.classList.contains('light-mode')) {
                    body.classList.remove('light-mode');
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    localStorage.setItem('theme', 'dark');
                } else {
                    body.classList.add('light-mode');
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    localStorage.setItem('theme', 'light');
                }
                
                // Track theme change
                this.trackEvent('theme_toggle', {
                    theme: body.classList.contains('light-mode') ? 'light' : 'dark'
                });
            },

            initTheme() {
                const savedTheme = localStorage.getItem('theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                
                if (savedTheme === 'light' || (!savedTheme && !prefersDark)) {
                    document.body.classList.add('light-mode');
                    const themeIcon = document.querySelector('#theme-toggle i');
                    if (themeIcon) {
                        themeIcon.classList.remove('fa-moon');
                        themeIcon.classList.add('fa-sun');
                    }
                }
            },

            openMobileMenu() {
                document.getElementById('mobile-menu').classList.add('active');
                document.getElementById('mobile-menu-overlay').classList.add('active');
                document.body.style.overflow = 'hidden';
            },

            closeMobileMenu() {
                document.getElementById('mobile-menu').classList.remove('active');
                document.getElementById('mobile-menu-overlay').classList.remove('active');
                document.body.style.overflow = 'auto';
            },

            handleScroll() {
                const navbar = document.querySelector('.navbar');
                const backToTop = document.getElementById('back-to-top');
                
                if (navbar && window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else if (navbar) {
                    navbar.classList.remove('scrolled');
                }

                if (backToTop && window.scrollY > 300) {
                    backToTop.classList.add('visible');
                } else if (backToTop) {
                    backToTop.classList.remove('visible');
                }
            },

            scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            },

            initPasswordToggles() {
                document.querySelectorAll('.password-toggle').forEach(toggle => {
                    toggle.addEventListener('click', function() {
                        const input = this.previousElementSibling;
                        const icon = this.querySelector('i');
                        
                        if (input.type === 'password') {
                            input.type = 'text';
                            icon.classList.remove('fa-eye');
                            icon.classList.add('fa-eye-slash');
                        } else {
                            input.type = 'password';
                            icon.classList.remove('fa-eye-slash');
                            icon.classList.add('fa-eye');
                        }
                    });
                });
            },

            initPasswordStrength() {
                const passwordInput = document.getElementById('password');
                if (!passwordInput) return;
                
                passwordInput.addEventListener('input', () => {
                    const password = passwordInput.value;
                    const strengthBar = document.getElementById('password-strength');
                    if (!strengthBar) return;
                    
                    let strength = 0;
                    if (password.length >= 8) strength++;
                    if (/[A-Z]/.test(password)) strength++;
                    if (/[a-z]/.test(password)) strength++;
                    if (/[0-9]/.test(password)) strength++;
                    if (/[^A-Za-z0-9]/.test(password)) strength++;
                    
                    strengthBar.className = 'password-strength';
                    if (strength === 0) {
                        strengthBar.style.width = '0%';
                    } else if (strength <= 2) {
                        strengthBar.className += ' weak';
                    } else if (strength <= 4) {
                        strengthBar.className += ' medium';
                    } else {
                        strengthBar.className += ' strong';
                    }
                });
            },

            initFileUploadPreviews() {
                const fileInputs = [
                    { input: 'investment-proof', preview: 'investment-preview' },
                    { input: 'deposit-proof', preview: 'deposit-preview' },
                    { input: 'id-front', preview: 'id-front-preview' },
                    { input: 'id-back', preview: 'id-back-preview' },
                    { input: 'selfie-with-id', preview: 'selfie-with-id-preview' }
                ];
                
                fileInputs.forEach(({ input, preview }) => {
                    const inputElement = document.getElementById(input);
                    const previewElement = document.getElementById(preview);
                    
                    if (inputElement && previewElement) {
                        inputElement.addEventListener('change', (e) => {
                            const file = e.target.files[0];
                            if (file) {
                                const validTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf'];
                                if (!validTypes.includes(file.type)) {
                                    this.showToast('Please upload only JPG, PNG, or PDF files', 'error');
                                    inputElement.value = '';
                                    previewElement.style.display = 'none';
                                    return;
                                }
                                
                                if (file.size > 10 * 1024 * 1024) {
                                    this.showToast('File size must be less than 10MB', 'error');
                                    inputElement.value = '';
                                    previewElement.style.display = 'none';
                                    return;
                                }
                                
                                const reader = new FileReader();
                                reader.onload = (e) => {
                                    previewElement.src = e.target.result;
                                    previewElement.style.display = 'block';
                                };
                                reader.readAsDataURL(file);
                            }
                        });
                    }
                });
            },

            initAnimations() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('.feature, .plan-card, .step, .testimonial-card').forEach(el => {
                    observer.observe(el);
                });
            },

            initSessionMonitor() {
                document.addEventListener('mousemove', () => {
                    this.updateLastActivity();
                });
                
                document.addEventListener('keypress', () => {
                    this.updateLastActivity();
                });
                
                setInterval(() => {
                    const idleTime = Date.now() - this.state.lastActivity;
                    if (idleTime > this.config.SESSION_TIMEOUT && this.state.isAuthenticated) {
                        this.showToast('Session expired due to inactivity', 'warning');
                        this.logout();
                    }
                }, 60000);
            },

            initNetworkMonitor() {
                window.addEventListener('online', () => {
                    this.state.networkOnline = true;
                    this.state.offlineMode = false;
                    this.showToast('You are back online', 'success');
                    this.syncOfflineActions();
                    this.initWebSocket();
                });
                
                window.addEventListener('offline', () => {
                    this.state.networkOnline = false;
                    this.state.offlineMode = true;
                    this.showToast('You are offline. Some features may not work.', 'warning');
                });
            },

            animateStats() {
                const stats = [
                    { id: 'total-invested-stat', value: 2500000000, suffix: '+' },
                    { id: 'active-investors-stat', value: 15240, suffix: '+' },
                    { id: 'user-rating-stat', value: 4.9, suffix: '/5' }
                ];

                stats.forEach(stat => {
                    const element = document.getElementById(stat.id);
                    if (element) {
                        this.animateValue(element, 0, stat.value, 2000, stat.suffix);
                    }
                });
            },

            animateValue(element, start, end, duration, suffix = '') {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const value = Math.floor(progress * (end - start) + start);
                    
                    if (element.id === 'user-rating-stat') {
                        element.textContent = value.toFixed(1) + suffix;
                    } else {
                        element.textContent = this.formatCurrency(value) + suffix;
                    }
                    
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            },

            formatCurrency(value) {
                if (value >= 1000000000) {
                    return '' + (value / 1000000000).toFixed(1) + 'B';
                } else if (value >= 1000000) {
                    return '' + (value / 1000000).toFixed(1) + 'M';
                } else if (value >= 1000) {
                    return '' + (value / 1000).toFixed(1) + 'K';
                }
                return '' + value.toLocaleString();
            },

            // ==================== NEW FEATURES ====================
            
            // Export data
            exportData(type) {
                this.apiRequest(`/export/${type}`)
                    .then(response => {
                        const data = JSON.stringify(response.data, null, 2);
                        const blob = new Blob([data], { type: 'application/json' });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `raw-wealthy-${type}-${Date.now()}.json`;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                        
                        this.showToast(`${type} data exported successfully`, 'success');
                    });
            },

            // Print statement
            printStatement() {
                window.print();
            },

            // Quick actions
            quickDeposit(amount) {
                document.getElementById('deposit-amount').value = amount;
                this.openModal('deposit-modal');
            },

            quickWithdraw(amount) {
                document.getElementById('withdraw-amount').value = amount;
                this.openModal('withdraw-modal');
            },

            // Pagination
            setupPagination(containerId, items, itemsPerPage) {
                let currentPage = 1;
                
                const renderPage = (page) => {
                    const start = (page - 1) * itemsPerPage;
                    const end = start + itemsPerPage;
                    const pageItems = items.slice(start, end);
                    
                    // Render items
                    const container = document.getElementById(containerId);
                    // ... rendering logic
                    
                    // Update pagination controls
                    this.updatePaginationControls(containerId, page, Math.ceil(items.length / itemsPerPage));
                };
                
                renderPage(currentPage);
            },

            updatePaginationControls(containerId, currentPage, totalPages) {
                const controls = `
                    <div class="pagination">
                        <button ${currentPage === 1 ? 'disabled' : ''} onclick="app.prevPage('${containerId}')">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span>Page ${currentPage} of ${totalPages}</span>
                        <button ${currentPage === totalPages ? 'disabled' : ''} onclick="app.nextPage('${containerId}')">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                `;
                
                document.querySelector(`#${containerId}`).insertAdjacentHTML('afterend', controls);
            },

            // ==================== EVENT LISTENERS ====================
            setupEventListeners() {
                // Theme toggle
                document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());
                
                // Mobile menu
                document.getElementById('hamburger').addEventListener('click', () => this.openMobileMenu());
                document.getElementById('close-mobile-menu').addEventListener('click', () => this.closeMobileMenu());
                document.getElementById('mobile-menu-overlay').addEventListener('click', () => this.closeMobileMenu());
                
                // Back to top
                document.getElementById('back-to-top').addEventListener('click', () => this.scrollToTop());
                
                // Form submissions
                document.getElementById('registration-form').addEventListener('submit', (e) => this.handleRegistration(e));
                document.getElementById('login-form').addEventListener('submit', (e) => this.handleLogin(e));
                document.getElementById('invest-form').addEventListener('submit', (e) => this.handleInvestment(e));
                document.getElementById('deposit-form').addEventListener('submit', (e) => this.handleDeposit(e));
                document.getElementById('withdraw-form').addEventListener('submit', (e) => this.handleWithdrawal(e));
                document.getElementById('personal-form').addEventListener('submit', (e) => this.handleProfileUpdate(e));
                document.getElementById('bank-form').addEventListener('submit', (e) => this.handleBankUpdate(e));
                document.getElementById('kyc-form').addEventListener('submit', (e) => this.handleKYCSubmission(e));
                document.getElementById('support-form').addEventListener('submit', (e) => this.handleSupportRequest(e));
                document.getElementById('password-reset-form').addEventListener('submit', (e) => this.handlePasswordReset(e));
                
                // Password toggles
                this.initPasswordToggles();
                
                // File upload previews
                this.initFileUploadPreviews();
                
                // Scroll event for navbar
                window.addEventListener('scroll', () => this.handleScroll());
                
                // Withdrawal amount change listener
                const withdrawAmount = document.getElementById('withdraw-amount');
                if (withdrawAmount) {
                    withdrawAmount.addEventListener('input', () => this.updateWithdrawalFee());
                }
                
                // Investment amount validation
                const investAmount = document.getElementById('investment-amount');
                if (investAmount) {
                    investAmount.addEventListener('input', () => this.validateInvestmentAmount());
                }
                
                // Auto-scroll to top when page changes
                window.addEventListener('hashchange', () => window.scrollTo(0, 0));
                
                // Initialize stats animation
                this.animateStats();
                
                // Document click handlers
                document.addEventListener('click', (e) => this.handleDocumentClick(e));
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => this.handleKeyboardShortcuts(e));
                
                // Print shortcut
                document.addEventListener('keydown', (e) => {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                        e.preventDefault();
                        this.printStatement();
                    }
                });
                
                // Refresh data every 5 minutes
                setInterval(() => {
                    if (this.state.isAuthenticated && this.state.networkOnline) {
                        this.updateDashboard();
                    }
                }, 5 * 60 * 1000);
            },

            // ==================== ADDITIONAL METHODS ====================
            
            // Page navigation
            showPage(page) {
                // Hide all pages
                document.querySelectorAll('[id$="-page"]').forEach(element => {
                    element.style.display = 'none';
                });
                
                // Show requested page
                const pageElement = document.getElementById(`${page}-page`);
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    
                    // Initialize page-specific features
                    switch(page) {
                        case 'dashboard':
                            this.updateDashboard();
                            break;
                        case 'investment-plans':
                            this.loadInvestmentPlansPage();
                            break;
                        case 'profile':
                            this.loadProfileData();
                            break;
                        case 'referral':
                            this.loadReferralData();
                            break;
                        case 'admin':
                            this.updateAdminDashboard();
                            break;
                    }
                }
                
                // Update active nav
                this.updateActiveNav(page);
                this.closeMobileMenu();
                
                // Track page view
                this.trackEvent('page_view', { page });
                
                // Scroll to top
                window.scrollTo(0, 0);
            },

            updateActiveNav(page) {
                document.querySelectorAll('.nav-links a, .mobile-menu-links a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('onclick')?.includes(`'${page}'`)) {
                        link.classList.add('active');
                    }
                });
            },

            // Modal functions
            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            },

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            },

            openCustomModal(title, content) {
                const modalId = 'custom-modal';
                let modal = document.getElementById(modalId);
                
                if (!modal) {
                    modal = document.createElement('div');
                    modal.id = modalId;
                    modal.className = 'modal';
                    modal.innerHTML = `
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2>${title}</h2>
                                <button class="close-modal" onclick="app.closeModal('${modalId}')">&times;</button>
                            </div>
                            <div class="modal-body">${content}</div>
                        </div>
                    `;
                    document.body.appendChild(modal);
                }
                
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            },

            // Tab switching
            switchProfileTab(tab) {
                // Hide all tabs
                document.querySelectorAll('.profile-section').forEach(element => {
                    element.style.display = 'none';
                });
                
                // Show selected tab
                const tabElement = document.getElementById(`${tab}-tab`);
                if (tabElement) {
                    tabElement.style.display = 'block';
                }
                
                // Update active nav
                document.querySelectorAll('.profile-nav a').forEach(link => {
                    link.classList.remove('active');
                });
                
                const activeLink = document.querySelector(`.profile-nav a[onclick*="${tab}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            },

            switchSupportCategory(category) {
                // Hide all categories
                document.querySelectorAll('.support-main > div').forEach(element => {
                    element.style.display = 'none';
                });
                
                // Show selected category
                const categoryElement = document.getElementById(`${category}-category`);
                if (categoryElement) {
                    categoryElement.style.display = 'block';
                }
                
                // Update active category
                document.querySelectorAll('.support-category').forEach(element => {
                    element.classList.remove('active');
                });
                
                const activeCategory = document.querySelector(`.support-category[onclick*="${category}"]`);
                if (activeCategory) {
                    activeCategory.classList.add('active');
                }
            },

            switchAdminTab(tab) {
                // Hide all tabs
                document.querySelectorAll('#admin-main > div').forEach(element => {
                    element.style.display = 'none';
                });
                
                // Show selected tab
                const tabElement = document.getElementById(`${tab}-tab`);
                if (tabElement) {
                    tabElement.style.display = 'block';
                }
                
                // Update active nav
                document.querySelectorAll('.admin-nav a').forEach(link => {
                    link.classList.remove('active');
                });
                
                const activeLink = document.querySelector(`.admin-nav a[onclick*="${tab}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            },

            toggleFaq(element) {
                const faqItem = element.parentElement;
                faqItem.classList.toggle('active');
            },

            checkReferralFromURL() {
                const urlParams = new URLSearchParams(window.location.search);
                const referralCode = urlParams.get('ref');
                
                if (referralCode && document.getElementById('referral')) {
                    document.getElementById('referral').value = referralCode;
                    localStorage.setItem('referral_code', referralCode);
                }
            },

            copyReferralLink() {
                const linkInput = document.getElementById('referral-link');
                linkInput.select();
                linkInput.setSelectionRange(0, 99999);
                
                navigator.clipboard.writeText(linkInput.value)
                    .then(() => this.showToast('Referral link copied!', 'success'))
                    .catch(() => {
                        document.execCommand('copy');
                        this.showToast('Referral link copied!', 'success');
                    });
            },

            copyReferralCode() {
                const codeInput = document.getElementById('referral-code');
                codeInput.select();
                codeInput.setSelectionRange(0, 99999);
                
                navigator.clipboard.writeText(codeInput.value)
                    .then(() => this.showToast('Referral code copied!', 'success'))
                    .catch(() => {
                        document.execCommand('copy');
                        this.showToast('Referral code copied!', 'success');
                    });
            },

            handleDocumentClick(e) {
                if (e.target.classList.contains('modal')) {
                    this.closeModal(e.target.id);
                }
            },

            handleKeyboardShortcuts(e) {
                if (e.key === 'Escape') {
                    const openModal = document.querySelector('.modal[style*="display: flex"]');
                    if (openModal) {
                        this.closeModal(openModal.id);
                    }
                }
                
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    const searchInput = document.querySelector('input[type="search"], input[placeholder*="Search"]');
                    if (searchInput) {
                        searchInput.focus();
                    }
                }
                
                if (e.ctrlKey && e.key === 'd') {
                    e.preventDefault();
                    this.toggleTheme();
                }
            },

            // ==================== MOCK METHODS (for demo) ====================
            
            // These methods simulate backend functionality for demo purposes
            loadInvestmentPlansPage() {
                const container = document.getElementById('investment-plans-list');
                if (!container) return;
                
                container.innerHTML = this.state.investmentPlans.map(plan => `
                    <div class="plan-card">
                        ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                        <div class="plan-header">
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.min_amount.toLocaleString()}</div>
                            <div class="plan-period">Minimum Investment</div>
                        </div>
                        <div class="plan-features">
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Daily Returns: ${plan.daily_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Total Returns: ${plan.total_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Duration: ${plan.duration} Days</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Risk Level: ${plan.risk_level}</span>
                            </div>
                            ${plan.features ? plan.features.map(feature => `
                                <div class="plan-feature">
                                    <i class="fas fa-check-circle"></i>
                                    <span>${feature}</span>
                                </div>
                            `).join('') : ''}
                        </div>
                        <button class="btn btn-primary plan-button" onclick="app.openInvestmentModal('${plan._id}')">
                            Invest Now
                        </button>
                    </div>
                `).join('');
            },

            loadProfileData() {
                if (!this.state.currentUser) return;
                
                // Simulate loading profile data
                const user = this.state.currentUser;
                
                document.getElementById('profile-fullname').value = user.full_name || 'John Doe';
                document.getElementById('profile-email').value = user.email || 'john.doe@example.com';
                document.getElementById('profile-phone').value = user.phone || '+234 (0) 812 345 6789';
                document.getElementById('profile-country').value = user.country || 'ng';
                
                const kycStatusElement = document.getElementById('kyc-status-text');
                if (kycStatusElement) {
                    kycStatusElement.textContent = user.kyc_verified ? 'Verified' : 'Pending';
                    kycStatusElement.className = user.kyc_verified ? 'status-badge approved' : 'status-badge pending';
                }
            },

            loadReferralData() {
                if (!this.state.currentUser) return;
                
                // Simulate referral data
                const baseUrl = window.location.origin;
                const referralCode = this.state.currentUser.referral_code || 'RAW12345';
                const referralLink = `${baseUrl}/register?ref=${referralCode}`;
                
                document.getElementById('referral-link').value = referralLink;
                document.getElementById('referral-code').value = referralCode;
                
                document.getElementById('total-referrals').textContent = '5';
                document.getElementById('active-referrals').textContent = '3';
                document.getElementById('total-referral-earnings').textContent = '15,000';
                document.getElementById('pending-referral-earnings').textContent = '5,000';
            },

            updateAdminDashboard() {
                if (!this.state.isAdmin) return;
                
                // Simulate admin data
                document.getElementById('admin-total-users').textContent = '1,542';
                document.getElementById('admin-total-invested').textContent = '250,450,000';
                document.getElementById('admin-total-withdrawn').textContent = '45,230,000';
                document.getElementById('admin-pending-requests').textContent = '23';
                document.getElementById('admin-platform-earnings').textContent = '12,522,500';
                document.getElementById('admin-active-investments').textContent = '842';
            },

            openInvestmentModal(planId) {
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (plan) {
                    const planSelect = document.getElementById('investment-plan');
                    if (planSelect) {
                        planSelect.value = plan._id;
                        const amountInput = document.getElementById('investment-amount');
                        if (amountInput) {
                            amountInput.min = plan.min_amount;
                            amountInput.value = plan.min_amount;
                            amountInput.placeholder = `Minimum: ${plan.min_amount.toLocaleString()}`;
                        }
                    }
                    this.openModal('invest-modal');
                }
            },

            validateInvestmentAmount() {
                const amountInput = document.getElementById('investment-amount');
                const planSelect = document.getElementById('investment-plan');
                
                if (!amountInput || !planSelect) return;
                
                const planId = planSelect.value;
                const amount = parseFloat(amountInput.value) || 0;
                
                if (!planId) {
                    this.showToast('Please select an investment plan first', 'warning');
                    amountInput.value = '';
                    return;
                }
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (plan && amount < plan.min_amount) {
                    this.showToast(`Minimum investment for ${plan.name} is ${plan.min_amount.toLocaleString()}`, 'warning');
                }
            },

            updateWithdrawalFee() {
                const amountInput = document.getElementById('withdraw-amount');
                const feeNotice = document.getElementById('withdrawal-fee-notice');
                
                if (!amountInput || !feeNotice) return;
                
                const amount = parseFloat(amountInput.value) || 0;
                const fee = amount * (this.config.PLATFORM_FEE_PERCENT / 100);
                const netAmount = amount - fee;
                
                feeNotice.innerHTML = `
                    Platform fee: ${fee.toLocaleString()} 
                    (Net amount: ${netAmount.toLocaleString()})
                `;
            },

            async handleProfileUpdate(e) {
                e.preventDefault();
                this.showToast('Profile updated successfully!', 'success');
            },

            async handleBankUpdate(e) {
                e.preventDefault();
                this.showToast('Bank details updated successfully!', 'success');
            },

            async handleKYCSubmission(e) {
                e.preventDefault();
                this.showToast('KYC application submitted successfully!', 'success');
            },

            async handleSupportRequest(e) {
                e.preventDefault();
                this.showToast('Support ticket submitted successfully!', 'success');
            },

            async handlePasswordReset(e) {
                e.preventDefault();
                this.showToast('Password reset link sent to your email!', 'success');
                this.closeModal('password-reset-modal');
            },

            disable2FA() {
                this.showToast('Two-factor authentication disabled!', 'success');
            },

            async loadUserInvestments() {
                // Simulate investments data
                const container = document.getElementById('active-investments-list');
                if (container) {
                    container.innerHTML = `
                        <div class="investment-item">
                            <div>
                                <div class="investment-name">Cocoa Beans Plan</div>
                                <div class="investment-status">Active - 25 days remaining</div>
                            </div>
                            <div class="investment-amount">50,000</div>
                        </div>
                        <div class="investment-item">
                            <div>
                                <div class="investment-name">Gold Plan</div>
                                <div class="investment-status">Active - 15 days remaining</div>
                            </div>
                            <div class="investment-amount">100,000</div>
                        </div>
                    `;
                }
            },

            async loadUserTransactions() {
                // Simulate transactions data
                const container = document.getElementById('recent-transactions-list');
                if (container) {
                    container.innerHTML = `
                        <div class="transaction-item">
                            <div>
                                <div class="transaction-type">Deposit</div>
                                <div class="transaction-date">2024-01-15</div>
                            </div>
                            <div class="transaction-amount">+50,000</div>
                        </div>
                        <div class="transaction-item">
                            <div>
                                <div class="transaction-type">Investment - Cocoa Beans</div>
                                <div class="transaction-date">2024-01-14</div>
                            </div>
                            <div class="transaction-amount negative">-50,000</div>
                        </div>
                        <div class="transaction-item">
                            <div>
                                <div class="transaction-type">Daily Earnings</div>
                                <div class="transaction-date">2024-01-14</div>
                            </div>
                            <div class="transaction-amount">+1,250</div>
                        </div>
                    `;
                }
            },

            createEarningsChart(stats) {
                const ctx = document.getElementById('earnings-chart');
                if (!ctx) return;
                
                // Destroy existing chart
                if (this.state.charts.earnings) {
                    this.state.charts.earnings.destroy();
                }
                
                // Create new chart
                this.state.charts.earnings = new Chart(ctx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Daily Earnings',
                            data: [12000, 19000, 15000, 25000, 22000, 30000, 28000],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: '#94a3b8',
                                    callback: function(value) {
                                        return '' + value.toLocaleString();
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    color: '#94a3b8'
                                }
                            }
                        }
                    }
                });
            },

            async verifyToken() {
                try {
                    // Simulate token verification
                    const cachedUser = localStorage.getItem('raw_wealthy_user');
                    if (cachedUser) {
                        this.state.currentUser = JSON.parse(cachedUser);
                        this.state.isAdmin = this.state.currentUser.role === 'admin' || this.state.currentUser.role === 'super_admin';
                        this.state.isAuthenticated = true;
                        
                        const avatarElement = document.getElementById('user-avatar');
                        if (avatarElement && this.state.currentUser.full_name) {
                            avatarElement.textContent = this.getUserInitials(this.state.currentUser.full_name);
                        }
                        
                        if (this.state.isAdmin) {
                            this.showPage('admin');
                        } else {
                            this.showPage('dashboard');
                        }
                        return;
                    }
                    
                    // Try to fetch from API
                    await this.apiRequest('/profile');
                    this.showPage('dashboard');
                    
                } catch (error) {
                    this.logout();
                    this.showPage('home');
                }
            },

            // Admin methods
            loadAdminUsers() {
                const table = document.getElementById('admin-users-table');
                if (table) {
                    table.innerHTML = `
                        <tr>
                            <td>John Doe</td>
                            <td>john.doe@example.com</td>
                            <td>2024-01-01</td>
                            <td><span class="status-badge approved">Verified</span></td>
                            <td>150,000</td>
                            <td><button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">View</button></td>
                        </tr>
                    `;
                }
            },

            loadAdminInvestments() {
                const table = document.getElementById('admin-investments-table');
                if (table) {
                    table.innerHTML = `
                        <tr>
                            <td>John Doe</td>
                            <td>Cocoa Beans</td>
                            <td>50,000</td>
                            <td>2024-01-15</td>
                            <td><span class="status-badge pending">Pending</span></td>
                            <td>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; margin-right: 0.5rem;"
                                        onclick="app.approveInvestment('1')">Approve</button>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; background: var(--error); color: white;"
                                        onclick="app.rejectInvestment('1')">Reject</button>
                            </td>
                        </tr>
                    `;
                }
            },

            loadAdminDeposits() {
                const table = document.getElementById('admin-deposits-table');
                if (table) {
                    table.innerHTML = `
                        <tr>
                            <td>John Doe</td>
                            <td>50,000</td>
                            <td>2024-01-15</td>
                            <td><span class="status-badge pending">Pending</span></td>
                            <td>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; margin-right: 0.5rem;"
                                        onclick="app.approveDeposit('1')">Approve</button>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; background: var(--error); color: white;"
                                        onclick="app.rejectDeposit('1')">Reject</button>
                            </td>
                        </tr>
                    `;
                }
            },

            loadAdminWithdrawals() {
                const table = document.getElementById('admin-withdrawals-table');
                if (table) {
                    table.innerHTML = `
                        <tr>
                            <td>John Doe</td>
                            <td>20,000</td>
                            <td>1,000</td>
                            <td>19,000</td>
                            <td>2024-01-14</td>
                            <td><span class="status-badge pending">Pending</span></td>
                            <td>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; margin-right: 0.5rem;"
                                        onclick="app.approveWithdrawal('1')">Approve</button>
                                <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; background: var(--error); color: white;"
                                        onclick="app.rejectWithdrawal('1')">Reject</button>
                            </td>
                        </tr>
                    `;
                }
            },

            approveInvestment(investmentId) {
                if (confirm('Approve this investment?')) {
                    this.showToast('Investment approved successfully!', 'success');
                    this.loadAdminInvestments();
                }
            },

            rejectInvestment(investmentId) {
                const reason = prompt('Enter rejection reason:');
                if (reason) {
                    this.showToast('Investment rejected!', 'success');
                    this.loadAdminInvestments();
                }
            },

            approveDeposit(depositId) {
                if (confirm('Approve this deposit?')) {
                    this.showToast('Deposit approved successfully!', 'success');
                    this.loadAdminDeposits();
                }
            },

            rejectDeposit(depositId) {
                const reason = prompt('Enter rejection reason:');
                if (reason) {
                    this.showToast('Deposit rejected!', 'success');
                    this.loadAdminDeposits();
                }
            },

            approveWithdrawal(withdrawalId) {
                if (confirm('Approve this withdrawal?')) {
                    this.showToast('Withdrawal approved successfully!', 'success');
                    this.loadAdminWithdrawals();
                }
            },

            rejectWithdrawal(withdrawalId) {
                const reason = prompt('Enter rejection reason:');
                if (reason) {
                    this.showToast('Withdrawal rejected!', 'success');
                    this.loadAdminWithdrawals();
                }
            }
        };

        // Initialize the application
        window.addEventListener('DOMContentLoaded', function() {
            app.init();
        });

        // Global error handler
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
            app.showToast('An unexpected error occurred. Please refresh the page.', 'error');
        });

        // Unhandled promise rejection handler
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Unhandled promise rejection:', e.reason);
            app.showToast('An unexpected error occurred. Please try again.', 'error');
        });

        // Service Worker registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
